<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Making sharable documents with Quarto – project-overview</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../quarto-workflows/browser.html" rel="next">
<link href="../ultimate-consequences/Codebook-current.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../ultimate-consequences/index.html">Ultimate Consequences</a></li><li class="breadcrumb-item"><a href="../ultimate-consequences/Project-Overview.html">Ultimate Consequences Project Overview</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/carwil-bjork-james-hex.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://ultimateconsequences.github.io" rel="" title="Ultimate Consequences Project Website" class="quarto-navigation-tool px-1" aria-label="Ultimate Consequences Project Website"><i class="bi bi-globe"></i></a>
    <a href="https://woborders.blog" rel="" title="Carwil without Borders" class="quarto-navigation-tool px-1" aria-label="Carwil without Borders"><i class="bi bi-wordpress"></i></a>
    <a href="https://mastodon.online/@Carwil" rel="" title="Carwil on Mastodon" class="quarto-navigation-tool px-1" aria-label="Carwil on Mastodon"><i class="bi bi-mastodon"></i></a>
    <a href="https://twitter.com/CarwilBJ" rel="" title="Carwil Bjork-James on Twitter" class="quarto-navigation-tool px-1" aria-label="Carwil Bjork-James on Twitter"><i class="bi bi-twitter"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../explore.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Explore and setup</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../ultimate-consequences/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ultimate Consequences</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ultimate-consequences/Codebook-current.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Codebook for Ultimate Consequences</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ultimate-consequences/Project-Overview.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Ultimate Consequences Project Overview</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">quarto-workflows/index.md</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../quarto-workflows/browser.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">From the Browser</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../learning-more.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning more</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../transition-from-rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Transition from Rmd</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#ultimate-consequences-project-overview" id="toc-ultimate-consequences-project-overview" class="nav-link active" data-scroll-target="#ultimate-consequences-project-overview">Ultimate Consequences Project Overview</a></li>
  <li><a href="#ultimate-consequences-a-comprehensive-database-of-deaths-in-bolivian-political-conflict-during-the-democratic-era-1982present" id="toc-ultimate-consequences-a-comprehensive-database-of-deaths-in-bolivian-political-conflict-during-the-democratic-era-1982present" class="nav-link" data-scroll-target="#ultimate-consequences-a-comprehensive-database-of-deaths-in-bolivian-political-conflict-during-the-democratic-era-1982present">Ultimate consequences: <br> A comprehensive database of deaths in Bolivian political conflict during the democratic era, 1982–present</a>
  <ul class="collapse">
  <li><a href="#which-deaths-are-we-recording" id="toc-which-deaths-are-we-recording" class="nav-link" data-scroll-target="#which-deaths-are-we-recording">Which deaths are we recording</a></li>
  <li><a href="#beyond-the-scope-of-the-project" id="toc-beyond-the-scope-of-the-project" class="nav-link" data-scroll-target="#beyond-the-scope-of-the-project">Beyond the scope of the project</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/openscapes/quarto-website-tutorial/edit/main/ultimate-consequences/Project-Overview.md" class="toc-action">Edit this page</a></p><p><a href="https://github.com/openscapes/quarto-website-tutorial/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="ultimate-consequences-project-overview" class="level1">
<h1>Ultimate Consequences Project Overview</h1>
<p>Carwil Bjork-James June 12, 2023</p>
</section>
<section id="ultimate-consequences-a-comprehensive-database-of-deaths-in-bolivian-political-conflict-during-the-democratic-era-1982present" class="level1">
<h1>Ultimate consequences: <br> A comprehensive database of deaths in Bolivian political conflict during the democratic era, 1982–present</h1>
<p><em>This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <a href="http://rmarkdown.rstudio.com" class="uri">http://rmarkdown.rstudio.com</a>.</em></p>
<p>Mass grassroots politics in Bolivia has found highly contentious forms of action that were nonetheless distinct from a conventional military conflict. Its longer history, marked by indigenous uprisings, labor militancy, and frequent military rule has been described in terms of blood, fire, dynamite, and massacres. The social movement traditions that have resulted include proclamations of fearlessness (even protesting high schoolers shout, “Rifle, machine gun, we will not be silenced!”) and vows to carry struggles “until the final consequences.”</p>
<p>The database enumerates individual deaths in Bolivian political conflict since 1982, the end of military rule in the country. It is compiled by a research team based on multiple sources, including media reports, governmental, intergovernmental, and private human rights reports, and use of the research literature on political conflict. The dataset now includes nearly all of the deaths identified by a Permanent Assembly of Human Rights-Bolivia (APDHB) study of deaths from 1988 to 2003, and a study of the coca conflict from 1982 to 2005 (Navarro Miranda 2006; Llorenti 2009; Salazar Ortuño 2008). Unlike prior compilations by human rights organizations, however, this database includes a variety of qualitative variables designed to understand how and why the deaths occurred and what policies and patterns underpin them.</p>
<p>We designed the database to both catalog the lethal consequences of participation in social movements and political activism, and to assess responsibility, accountability, and impunity for violent deaths. All deaths are significant as signs of the price that has been paid to seek social change. Some deaths are also significant as elements of repression or violence for which someone might ultimately be held accountable. Rather than begin by asking, “Is this death someone’s fault?,” we are coding each death according to multiple factors that enable us to extract different subsets of the overall database for different purposes. We estimate there were between 610 to 650 deaths associated with Bolivian political conflict from October 1982 until December 2019. As of June 2023, the project had identified <strong>607</strong> to <strong>626</strong> of these deaths, Including the 24 more recent deaths, we have identified <strong>632</strong> to <strong>651</strong> of a projected 654 deaths. The database includes <strong>616</strong> named individuals.</p>
<p>The database is maintained as a Google Docs spreadsheet, which can be queried by R scripts, and whose reports can be generated internally or exported for further manual coding. (<strong>Bold numbers</strong> in this paragraph are updated automatically using R scripts.)</p>
<p>Through this process, we have become familiar with reading multiple and conflicting reports, evaluating official denials (we have created a data column for such denials), collecting narrative accounts, coding what we can based on the information, and signaling remaining questions. One thing that we have learned through this process is that making informed judgements, rather than marking all disputed facts with some kind of asterisk, is absolutely foundational to being able to do comparative work. The scale of the dataset for this period is both large enough to identify significant patterns and small enough (unlike the situation in some other Latin American countries) to permit the construction of a database that includes detailed information about every death. Precisely because its coverage is nearly comprehensive, the database offers a systematic sample of cases for quantitative and/or qualitative analysis, untainted by selection bias. We can say with near certainty that the dataset includes all episodes of political conflict that caused three or more deaths since 1982.</p>
<p>The dataset offers a grounded view on such questions as: What practices and political choices result in some presidencies being far less violent than others? What is the relative importance of different forms of political violence, from repression of protest to guerrilla movements to fratricidal disputes among movements? Which movements have succeeded despite deadly repression? This database will serve as a new tool for social scientists, oral historians, and human rights advocates to use in answering these and other questions.</p>
<p>The situations described in the dataset principally involve the following:</p>
<ol type="1">
<li>Deaths from repression or confrontations with security forces during protest</li>
<li>Deaths from security force incursions into politically active communities that are related to their activism</li>
<li>Deaths from inter-movement and intra-movement confrontations</li>
<li>Deaths of all kinds related to guerrilla or paramilitary activity</li>
<li>Deaths of all kinds related to the conflict over coca growing</li>
<li>Political assassinations of all kinds, including public officials, political activists, and journalists</li>
<li>Deaths of social movement participants while in police custody for their activism</li>
<li>Deaths from the hardships of protests and acts of self-sacrifice such as hunger strikes, long-distance marches etc.</li>
<li>Acts of suicide as a form of protest</li>
<li>All deaths related to land conflicts that involve a collective/social movement organization on at least one side.</li>
</ol>
<p>For each death, we record identifying information about the person who died, the individual or group who caused the death, the place and time of the death, the cause and circumstances of the death, whether the death appears to be deliberate or intended, the geographic location, the death’s connection to social movements and social movement campaigns, sources of information available about the death, types of investigation that have been performed, accountability processes, and relationship to the Bolivian state. Analytical variables used so far include: political assassination (a binary yes/no category); protest domain (aggregating all protest campaigns into a small number of topics such as “labor” and “municipal governance”); and denial (a binary yes/no category indicating whether the perpetrator denied responsibility for the death). In creating database entries, we create brief narrative descriptions of the events involved and/or quote such descriptions directly from sources of reporting. We also are collecting textual segments of reporting and testimonial narrative relevant to each death.</p>
<section id="which-deaths-are-we-recording" class="level2">
<h2 class="anchored" data-anchor-id="which-deaths-are-we-recording">Which deaths are we recording</h2>
<p><em>Included, but excluded from summary calculations:</em> When aggregating deaths for comparative purposes over time, we will exclude “non-conflict accidents”: any unintended death that occurs through no deliberate attempt to harm, and outside the context of open physical confrontation. We anticipate that such deaths are unevenly recorded over time (i.e., more frequently noted in recent years) and have no particular bearing on research questions we are exploring. We also exclude incidental deaths (due to indirect effects of blockades, or</p>
<p><em>Excluded, but recorded:</em> We are coding and maintaining in a parallel list (currently an extra page in our spreadsheet) verifiable deaths that appear to fall outside of our inclusion criteria (e.g., deaths from criminal activity, deaths before the democratic period, apparently apolitical deaths in police custody), and deaths during highly complex events with great flux among sources (currently only the 2003 Gas War, but we may add other events to this), when the death is only listed in a single source without verifying details.</p>
</section>
<section id="beyond-the-scope-of-the-project" class="level2">
<h2 class="anchored" data-anchor-id="beyond-the-scope-of-the-project">Beyond the scope of the project</h2>
<p>There are other politically charged forms of death in Bolivia including <em>lynchings and capital punishment in community-based justice</em>; <em>feminicide and gender-based homicide</em>; and <em>deaths emerging from politically controversial policies or social failure</em>. We can expect that prominent figures in social movements have been the victims of all of these types of violence. Where that has occurred, we will record their deaths separately from the main database and consider highlighting them in our work, but not attempt quantitative comparisons around these kinds of deaths.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../ultimate-consequences/Codebook-current.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Codebook for Ultimate Consequences</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../quarto-workflows/browser.html" class="pagination-link">
        <span class="nav-page-text">From the Browser</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© CC-By Openscapes, 2022</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>