/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var Ol=Object.create;var At=Object.defineProperty;var El=Object.getOwnPropertyDescriptor;var Pl=Object.getOwnPropertyNames;var Yl=Object.getPrototypeOf,Il=Object.prototype.hasOwnProperty;var Nl=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),Wl=(a,n)=>{for(var o in n)At(a,o,{get:n[o],enumerable:!0})},zs=(a,n,o,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of Pl(n))!Il.call(a,c)&&c!==o&&At(a,c,{get:()=>n[c],enumerable:!(l=El(n,c))||l.enumerable});return a};var Ir=(a,n,o)=>(o=a!=null?Ol(Yl(a)):{},zs(n||!a||!a.__esModule?At(o,"default",{value:a,enumerable:!0}):o,a)),Ll=a=>zs(At({},"__esModule",{value:!0}),a);var $t=Nl((Nr,Ke)=>{(function(a,n){typeof Nr=="object"&&typeof Ke<"u"?Ke.exports=n():typeof define=="function"&&define.amd?define(n):a.moment=n()})(Nr,function(){"use strict";var a;function n(){return a.apply(null,arguments)}function o(e){a=e}function l(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function c(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(u(e,t))return!1;return!0}function p(e){return e===void 0}function g(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function v(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function k(e,t){var r=[],s,i=e.length;for(s=0;s<i;++s)r.push(t(e[s],s));return r}function C(e,t){for(var r in t)u(t,r)&&(e[r]=t[r]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function _(e,t,r,s){return Ss(e,t,r,s,!0).utc()}function D(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(e){return e._pf==null&&(e._pf=D()),e._pf}var $;Array.prototype.some?$=Array.prototype.some:$=function(e){var t=Object(this),r=t.length>>>0,s;for(s=0;s<r;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function V(e){if(e._isValid==null){var t=y(e),r=$.call(t.parsedDateParts,function(i){return i!=null}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(s=s&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=s;else return s}return e._isValid}function W(e){var t=_(NaN);return e!=null?C(y(t),e):y(t).userInvalidated=!0,t}var q=n.momentProperties=[],U=!1;function G(e,t){var r,s,i,d=q.length;if(p(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),p(t._i)||(e._i=t._i),p(t._f)||(e._f=t._f),p(t._l)||(e._l=t._l),p(t._strict)||(e._strict=t._strict),p(t._tzm)||(e._tzm=t._tzm),p(t._isUTC)||(e._isUTC=t._isUTC),p(t._offset)||(e._offset=t._offset),p(t._pf)||(e._pf=y(t)),p(t._locale)||(e._locale=t._locale),d>0)for(r=0;r<d;r++)s=q[r],i=t[s],p(i)||(e[s]=i);return e}function X(e){G(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),U===!1&&(U=!0,n.updateOffset(this),U=!1)}function ee(e){return e instanceof X||e!=null&&e._isAMomentObject!=null}function Ae(e){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function A(e,t){var r=!0;return C(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,e),r){var s=[],i,d,h,x=arguments.length;for(d=0;d<x;d++){if(i="",typeof arguments[d]=="object"){i+=`
[`+d+"] ";for(h in arguments[0])u(arguments[0],h)&&(i+=h+": "+arguments[0][h]+", ");i=i.slice(0,-2)}else i=arguments[d];s.push(i)}Ae(e+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var $e={};function ss(e,t){n.deprecationHandler!=null&&n.deprecationHandler(e,t),$e[e]||(Ae(t),$e[e]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function ue(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function En(e){var t,r;for(r in e)u(e,r)&&(t=e[r],ue(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function lr(e,t){var r=C({},e),s;for(s in t)u(t,s)&&(c(e[s])&&c(t[s])?(r[s]={},C(r[s],e[s]),C(r[s],t[s])):t[s]!=null?r[s]=t[s]:delete r[s]);for(s in e)u(e,s)&&!u(t,s)&&c(e[s])&&(r[s]=C({},r[s]));return r}function dr(e){e!=null&&this.set(e)}var cr;Object.keys?cr=Object.keys:cr=function(e){var t,r=[];for(t in e)u(e,t)&&r.push(t);return r};var Pn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Yn(e,t,r){var s=this._calendar[e]||this._calendar.sameElse;return ue(s)?s.call(t,r):s}function he(e,t,r){var s=""+Math.abs(e),i=t-s.length,d=e>=0;return(d?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var ur=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,yt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hr={},Ue={};function F(e,t,r,s){var i=s;typeof s=="string"&&(i=function(){return this[s]()}),e&&(Ue[e]=i),t&&(Ue[t[0]]=function(){return he(i.apply(this,arguments),t[1],t[2])}),r&&(Ue[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function In(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Nn(e){var t=e.match(ur),r,s;for(r=0,s=t.length;r<s;r++)Ue[t[r]]?t[r]=Ue[t[r]]:t[r]=In(t[r]);return function(i){var d="",h;for(h=0;h<s;h++)d+=ue(t[h])?t[h].call(i,e):t[h];return d}}function wt(e,t){return e.isValid()?(t=ns(t,e.localeData()),hr[t]=hr[t]||Nn(t),hr[t](e)):e.localeData().invalidDate()}function ns(e,t){var r=5;function s(i){return t.longDateFormat(i)||i}for(yt.lastIndex=0;r>=0&&yt.test(e);)e=e.replace(yt,s),yt.lastIndex=0,r-=1;return e}var Wn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ln(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(ur).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[e])}var Rn="Invalid date";function An(){return this._invalidDate}var $n="%d",Un=/\d{1,2}/;function Hn(e){return this._ordinal.replace("%d",e)}var Vn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Bn(e,t,r,s){var i=this._relativeTime[r];return ue(i)?i(e,t,r,s):i.replace(/%d/i,e)}function jn(e,t){var r=this._relativeTime[e>0?"future":"past"];return ue(r)?r(t):r.replace(/%s/i,t)}var nt={};function B(e,t){var r=e.toLowerCase();nt[r]=nt[r+"s"]=nt[t]=e}function ne(e){return typeof e=="string"?nt[e]||nt[e.toLowerCase()]:void 0}function fr(e){var t={},r,s;for(s in e)u(e,s)&&(r=ne(s),r&&(t[r]=e[s]));return t}var is={};function j(e,t){is[e]=t}function Qn(e){var t=[],r;for(r in e)u(e,r)&&t.push({unit:r,priority:is[r]});return t.sort(function(s,i){return s.priority-i.priority}),t}function vt(e){return e%4===0&&e%100!==0||e%400===0}function ie(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=ie(t)),r}function He(e,t){return function(r){return r!=null?(as(this,e,r),n.updateOffset(this,t),this):_t(this,e)}}function _t(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function as(e,t,r){e.isValid()&&!isNaN(r)&&(t==="FullYear"&&vt(e.year())&&e.month()===1&&e.date()===29?(r=S(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Dt(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function Gn(e){return e=ne(e),ue(this[e])?this[e]():this}function zn(e,t){if(typeof e=="object"){e=fr(e);var r=Qn(e),s,i=r.length;for(s=0;s<i;s++)this[r[s].unit](e[r[s].unit])}else if(e=ne(e),ue(this[e]))return this[e](t);return this}var os=/\d/,te=/\d\d/,ls=/\d{3}/,mr=/\d{4}/,Ft=/[+-]?\d{6}/,Y=/\d\d?/,ds=/\d\d\d\d?/,cs=/\d\d\d\d\d\d?/,xt=/\d{1,3}/,pr=/\d{1,4}/,kt=/[+-]?\d{1,6}/,Ve=/\d+/,Ct=/[+-]?\d+/,Kn=/Z|[+-]\d\d:?\d\d/gi,Tt=/Z|[+-]\d\d(?::?\d\d)?/gi,Zn=/[+-]?\d+(\.\d{1,3})?/,it=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,St;St={};function w(e,t,r){St[e]=ue(t)?t:function(s,i){return s&&r?r:t}}function qn(e,t){return u(St,e)?St[e](t._strict,t._locale):new RegExp(Jn(e))}function Jn(e){return re(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,s,i,d){return r||s||i||d}))}function re(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var gr={};function E(e,t){var r,s=t,i;for(typeof e=="string"&&(e=[e]),g(t)&&(s=function(d,h){h[t]=S(d)}),i=e.length,r=0;r<i;r++)gr[e[r]]=s}function at(e,t){E(e,function(r,s,i,d){i._w=i._w||{},t(r,i._w,i,d)})}function Xn(e,t,r){t!=null&&u(gr,e)&&gr[e](t,r._a,r,e)}var Q=0,pe=1,fe=2,R=3,ae=4,ge=5,Pe=6,ei=7,ti=8;function ri(e,t){return(e%t+t)%t}var L;Array.prototype.indexOf?L=Array.prototype.indexOf:L=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Dt(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=ri(t,12);return e+=(t-r)/12,r===1?vt(e)?29:28:31-r%7%2}F("M",["MM",2],"Mo",function(){return this.month()+1}),F("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),F("MMMM",0,0,function(e){return this.localeData().months(this,e)}),B("month","M"),j("month",8),w("M",Y),w("MM",Y,te),w("MMM",function(e,t){return t.monthsShortRegex(e)}),w("MMMM",function(e,t){return t.monthsRegex(e)}),E(["M","MM"],function(e,t){t[pe]=S(e)-1}),E(["MMM","MMMM"],function(e,t,r,s){var i=r._locale.monthsParse(e,s,r._strict);i!=null?t[pe]=i:y(r).invalidMonth=e});var si="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),us="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),hs=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ni=it,ii=it;function ai(e,t){return e?l(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||hs).test(t)?"format":"standalone"][e.month()]:l(this._months)?this._months:this._months.standalone}function oi(e,t){return e?l(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[hs.test(t)?"format":"standalone"][e.month()]:l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function li(e,t,r){var s,i,d,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)d=_([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(d,"").toLocaleLowerCase();return r?t==="MMM"?(i=L.call(this._shortMonthsParse,h),i!==-1?i:null):(i=L.call(this._longMonthsParse,h),i!==-1?i:null):t==="MMM"?(i=L.call(this._shortMonthsParse,h),i!==-1?i:(i=L.call(this._longMonthsParse,h),i!==-1?i:null)):(i=L.call(this._longMonthsParse,h),i!==-1?i:(i=L.call(this._shortMonthsParse,h),i!==-1?i:null))}function di(e,t,r){var s,i,d;if(this._monthsParseExact)return li.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=_([2e3,s]),r&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[s]&&(d="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(d.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[s].test(e))return s;if(r&&t==="MMM"&&this._shortMonthsParse[s].test(e))return s;if(!r&&this._monthsParse[s].test(e))return s}}function fs(e,t){var r;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=S(t);else if(t=e.localeData().monthsParse(t),!g(t))return e}return r=Math.min(e.date(),Dt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function ms(e){return e!=null?(fs(this,e),n.updateOffset(this,!0),this):_t(this,"Month")}function ci(){return Dt(this.year(),this.month())}function ui(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ps.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=ni),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function hi(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ps.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=ii),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ps(){function e(h,x){return x.length-h.length}var t=[],r=[],s=[],i,d;for(i=0;i<12;i++)d=_([2e3,i]),t.push(this.monthsShort(d,"")),r.push(this.months(d,"")),s.push(this.months(d,"")),s.push(this.monthsShort(d,""));for(t.sort(e),r.sort(e),s.sort(e),i=0;i<12;i++)t[i]=re(t[i]),r[i]=re(r[i]);for(i=0;i<24;i++)s[i]=re(s[i]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}F("Y",0,0,function(){var e=this.year();return e<=9999?he(e,4):"+"+e}),F(0,["YY",2],0,function(){return this.year()%100}),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),B("year","y"),j("year",1),w("Y",Ct),w("YY",Y,te),w("YYYY",pr,mr),w("YYYYY",kt,Ft),w("YYYYYY",kt,Ft),E(["YYYYY","YYYYYY"],Q),E("YYYY",function(e,t){t[Q]=e.length===2?n.parseTwoDigitYear(e):S(e)}),E("YY",function(e,t){t[Q]=n.parseTwoDigitYear(e)}),E("Y",function(e,t){t[Q]=parseInt(e,10)});function ot(e){return vt(e)?366:365}n.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var gs=He("FullYear",!0);function fi(){return vt(this.year())}function mi(e,t,r,s,i,d,h){var x;return e<100&&e>=0?(x=new Date(e+400,t,r,s,i,d,h),isFinite(x.getFullYear())&&x.setFullYear(e)):x=new Date(e,t,r,s,i,d,h),x}function lt(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Mt(e,t,r){var s=7+t-r,i=(7+lt(e,0,s).getUTCDay()-t)%7;return-i+s-1}function ys(e,t,r,s,i){var d=(7+r-s)%7,h=Mt(e,s,i),x=1+7*(t-1)+d+h,T,P;return x<=0?(T=e-1,P=ot(T)+x):x>ot(e)?(T=e+1,P=x-ot(e)):(T=e,P=x),{year:T,dayOfYear:P}}function dt(e,t,r){var s=Mt(e.year(),t,r),i=Math.floor((e.dayOfYear()-s-1)/7)+1,d,h;return i<1?(h=e.year()-1,d=i+ye(h,t,r)):i>ye(e.year(),t,r)?(d=i-ye(e.year(),t,r),h=e.year()+1):(h=e.year(),d=i),{week:d,year:h}}function ye(e,t,r){var s=Mt(e,t,r),i=Mt(e+1,t,r);return(ot(e)-s+i)/7}F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),B("week","w"),B("isoWeek","W"),j("week",5),j("isoWeek",5),w("w",Y),w("ww",Y,te),w("W",Y),w("WW",Y,te),at(["w","ww","W","WW"],function(e,t,r,s){t[s.substr(0,1)]=S(e)});function pi(e){return dt(e,this._week.dow,this._week.doy).week}var gi={dow:0,doy:6};function yi(){return this._week.dow}function wi(){return this._week.doy}function vi(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function _i(e){var t=dt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}F("d",0,"do","day"),F("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),F("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),F("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),B("day","d"),B("weekday","e"),B("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),w("d",Y),w("e",Y),w("E",Y),w("dd",function(e,t){return t.weekdaysMinRegex(e)}),w("ddd",function(e,t){return t.weekdaysShortRegex(e)}),w("dddd",function(e,t){return t.weekdaysRegex(e)}),at(["dd","ddd","dddd"],function(e,t,r,s){var i=r._locale.weekdaysParse(e,s,r._strict);i!=null?t.d=i:y(r).invalidWeekday=e}),at(["d","e","E"],function(e,t,r,s){t[s]=S(e)});function Fi(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function xi(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function yr(e,t){return e.slice(t,7).concat(e.slice(0,t))}var ki="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ws="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ci="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ti=it,Si=it,Di=it;function Mi(e,t){var r=l(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?yr(r,this._week.dow):e?r[e.day()]:r}function bi(e){return e===!0?yr(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Oi(e){return e===!0?yr(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ei(e,t,r){var s,i,d,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)d=_([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(d,"").toLocaleLowerCase();return r?t==="dddd"?(i=L.call(this._weekdaysParse,h),i!==-1?i:null):t==="ddd"?(i=L.call(this._shortWeekdaysParse,h),i!==-1?i:null):(i=L.call(this._minWeekdaysParse,h),i!==-1?i:null):t==="dddd"?(i=L.call(this._weekdaysParse,h),i!==-1||(i=L.call(this._shortWeekdaysParse,h),i!==-1)?i:(i=L.call(this._minWeekdaysParse,h),i!==-1?i:null)):t==="ddd"?(i=L.call(this._shortWeekdaysParse,h),i!==-1||(i=L.call(this._weekdaysParse,h),i!==-1)?i:(i=L.call(this._minWeekdaysParse,h),i!==-1?i:null)):(i=L.call(this._minWeekdaysParse,h),i!==-1||(i=L.call(this._weekdaysParse,h),i!==-1)?i:(i=L.call(this._shortWeekdaysParse,h),i!==-1?i:null))}function Pi(e,t,r){var s,i,d;if(this._weekdaysParseExact)return Ei.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=_([2e3,1]).day(s),r&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(d="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(d.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[s].test(e))return s;if(r&&t==="ddd"&&this._shortWeekdaysParse[s].test(e))return s;if(r&&t==="dd"&&this._minWeekdaysParse[s].test(e))return s;if(!r&&this._weekdaysParse[s].test(e))return s}}function Yi(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=Fi(e,this.localeData()),this.add(e-t,"d")):t}function Ii(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Ni(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=xi(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Wi(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||wr.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ti),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Li(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||wr.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Si),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ri(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||wr.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Di),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function wr(){function e(z,xe){return xe.length-z.length}var t=[],r=[],s=[],i=[],d,h,x,T,P;for(d=0;d<7;d++)h=_([2e3,1]).day(d),x=re(this.weekdaysMin(h,"")),T=re(this.weekdaysShort(h,"")),P=re(this.weekdays(h,"")),t.push(x),r.push(T),s.push(P),i.push(x),i.push(T),i.push(P);t.sort(e),r.sort(e),s.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function vr(){return this.hours()%12||12}function Ai(){return this.hours()||24}F("H",["HH",2],0,"hour"),F("h",["hh",2],0,vr),F("k",["kk",2],0,Ai),F("hmm",0,0,function(){return""+vr.apply(this)+he(this.minutes(),2)}),F("hmmss",0,0,function(){return""+vr.apply(this)+he(this.minutes(),2)+he(this.seconds(),2)}),F("Hmm",0,0,function(){return""+this.hours()+he(this.minutes(),2)}),F("Hmmss",0,0,function(){return""+this.hours()+he(this.minutes(),2)+he(this.seconds(),2)});function vs(e,t){F(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}vs("a",!0),vs("A",!1),B("hour","h"),j("hour",13);function _s(e,t){return t._meridiemParse}w("a",_s),w("A",_s),w("H",Y),w("h",Y),w("k",Y),w("HH",Y,te),w("hh",Y,te),w("kk",Y,te),w("hmm",ds),w("hmmss",cs),w("Hmm",ds),w("Hmmss",cs),E(["H","HH"],R),E(["k","kk"],function(e,t,r){var s=S(e);t[R]=s===24?0:s}),E(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),E(["h","hh"],function(e,t,r){t[R]=S(e),y(r).bigHour=!0}),E("hmm",function(e,t,r){var s=e.length-2;t[R]=S(e.substr(0,s)),t[ae]=S(e.substr(s)),y(r).bigHour=!0}),E("hmmss",function(e,t,r){var s=e.length-4,i=e.length-2;t[R]=S(e.substr(0,s)),t[ae]=S(e.substr(s,2)),t[ge]=S(e.substr(i)),y(r).bigHour=!0}),E("Hmm",function(e,t,r){var s=e.length-2;t[R]=S(e.substr(0,s)),t[ae]=S(e.substr(s))}),E("Hmmss",function(e,t,r){var s=e.length-4,i=e.length-2;t[R]=S(e.substr(0,s)),t[ae]=S(e.substr(s,2)),t[ge]=S(e.substr(i))});function $i(e){return(e+"").toLowerCase().charAt(0)==="p"}var Ui=/[ap]\.?m?\.?/i,Hi=He("Hours",!0);function Vi(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var Fs={calendar:Pn,longDateFormat:Wn,invalidDate:Rn,ordinal:$n,dayOfMonthOrdinalParse:Un,relativeTime:Vn,months:si,monthsShort:us,week:gi,weekdays:ki,weekdaysMin:Ci,weekdaysShort:ws,meridiemParse:Ui},N={},ct={},ut;function Bi(e,t){var r,s=Math.min(e.length,t.length);for(r=0;r<s;r+=1)if(e[r]!==t[r])return r;return s}function xs(e){return e&&e.toLowerCase().replace("_","-")}function ji(e){for(var t=0,r,s,i,d;t<e.length;){for(d=xs(e[t]).split("-"),r=d.length,s=xs(e[t+1]),s=s?s.split("-"):null;r>0;){if(i=bt(d.slice(0,r).join("-")),i)return i;if(s&&s.length>=r&&Bi(d,s)>=r-1)break;r--}t++}return ut}function Qi(e){return e.match("^[^/\\\\]*$")!=null}function bt(e){var t=null,r;if(N[e]===void 0&&typeof Ke<"u"&&Ke&&Ke.exports&&Qi(e))try{t=ut._abbr,r=require,r("./locale/"+e),Se(t)}catch{N[e]=null}return N[e]}function Se(e,t){var r;return e&&(p(t)?r=we(e):r=_r(e,t),r?ut=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ut._abbr}function _r(e,t){if(t!==null){var r,s=Fs;if(t.abbr=e,N[e]!=null)ss("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=N[e]._config;else if(t.parentLocale!=null)if(N[t.parentLocale]!=null)s=N[t.parentLocale]._config;else if(r=bt(t.parentLocale),r!=null)s=r._config;else return ct[t.parentLocale]||(ct[t.parentLocale]=[]),ct[t.parentLocale].push({name:e,config:t}),null;return N[e]=new dr(lr(s,t)),ct[e]&&ct[e].forEach(function(i){_r(i.name,i.config)}),Se(e),N[e]}else return delete N[e],null}function Gi(e,t){if(t!=null){var r,s,i=Fs;N[e]!=null&&N[e].parentLocale!=null?N[e].set(lr(N[e]._config,t)):(s=bt(e),s!=null&&(i=s._config),t=lr(i,t),s==null&&(t.abbr=e),r=new dr(t),r.parentLocale=N[e],N[e]=r),Se(e)}else N[e]!=null&&(N[e].parentLocale!=null?(N[e]=N[e].parentLocale,e===Se()&&Se(e)):N[e]!=null&&delete N[e]);return N[e]}function we(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ut;if(!l(e)){if(t=bt(e),t)return t;e=[e]}return ji(e)}function zi(){return cr(N)}function Fr(e){var t,r=e._a;return r&&y(e).overflow===-2&&(t=r[pe]<0||r[pe]>11?pe:r[fe]<1||r[fe]>Dt(r[Q],r[pe])?fe:r[R]<0||r[R]>24||r[R]===24&&(r[ae]!==0||r[ge]!==0||r[Pe]!==0)?R:r[ae]<0||r[ae]>59?ae:r[ge]<0||r[ge]>59?ge:r[Pe]<0||r[Pe]>999?Pe:-1,y(e)._overflowDayOfYear&&(t<Q||t>fe)&&(t=fe),y(e)._overflowWeeks&&t===-1&&(t=ei),y(e)._overflowWeekday&&t===-1&&(t=ti),y(e).overflow=t),e}var Ki=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qi=/Z|[+-]\d\d(?::?\d\d)?/,Ot=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],xr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ji=/^\/?Date\((-?\d+)/i,Xi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ea={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ks(e){var t,r,s=e._i,i=Ki.exec(s)||Zi.exec(s),d,h,x,T,P=Ot.length,z=xr.length;if(i){for(y(e).iso=!0,t=0,r=P;t<r;t++)if(Ot[t][1].exec(i[1])){h=Ot[t][0],d=Ot[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(i[3]){for(t=0,r=z;t<r;t++)if(xr[t][1].exec(i[3])){x=(i[2]||" ")+xr[t][0];break}if(x==null){e._isValid=!1;return}}if(!d&&x!=null){e._isValid=!1;return}if(i[4])if(qi.exec(i[4]))T="Z";else{e._isValid=!1;return}e._f=h+(x||"")+(T||""),Cr(e)}else e._isValid=!1}function ta(e,t,r,s,i,d){var h=[ra(e),us.indexOf(t),parseInt(r,10),parseInt(s,10),parseInt(i,10)];return d&&h.push(parseInt(d,10)),h}function ra(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function sa(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function na(e,t,r){if(e){var s=ws.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(s!==i)return y(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function ia(e,t,r){if(e)return ea[e];if(t)return 0;var s=parseInt(r,10),i=s%100,d=(s-i)/100;return d*60+i}function Cs(e){var t=Xi.exec(sa(e._i)),r;if(t){if(r=ta(t[4],t[3],t[2],t[5],t[6],t[7]),!na(t[1],r,e))return;e._a=r,e._tzm=ia(t[8],t[9],t[10]),e._d=lt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function aa(e){var t=Ji.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(ks(e),e._isValid===!1)delete e._isValid;else return;if(Cs(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:n.createFromInputFallback(e)}n.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Be(e,t,r){return e??t??r}function oa(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function kr(e){var t,r,s=[],i,d,h;if(!e._d){for(i=oa(e),e._w&&e._a[fe]==null&&e._a[pe]==null&&la(e),e._dayOfYear!=null&&(h=Be(e._a[Q],i[Q]),(e._dayOfYear>ot(h)||e._dayOfYear===0)&&(y(e)._overflowDayOfYear=!0),r=lt(h,0,e._dayOfYear),e._a[pe]=r.getUTCMonth(),e._a[fe]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[R]===24&&e._a[ae]===0&&e._a[ge]===0&&e._a[Pe]===0&&(e._nextDay=!0,e._a[R]=0),e._d=(e._useUTC?lt:mi).apply(null,s),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[R]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(y(e).weekdayMismatch=!0)}}function la(e){var t,r,s,i,d,h,x,T,P;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(d=1,h=4,r=Be(t.GG,e._a[Q],dt(I(),1,4).year),s=Be(t.W,1),i=Be(t.E,1),(i<1||i>7)&&(T=!0)):(d=e._locale._week.dow,h=e._locale._week.doy,P=dt(I(),d,h),r=Be(t.gg,e._a[Q],P.year),s=Be(t.w,P.week),t.d!=null?(i=t.d,(i<0||i>6)&&(T=!0)):t.e!=null?(i=t.e+d,(t.e<0||t.e>6)&&(T=!0)):i=d),s<1||s>ye(r,d,h)?y(e)._overflowWeeks=!0:T!=null?y(e)._overflowWeekday=!0:(x=ys(r,s,i,d,h),e._a[Q]=x.year,e._dayOfYear=x.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function Cr(e){if(e._f===n.ISO_8601){ks(e);return}if(e._f===n.RFC_2822){Cs(e);return}e._a=[],y(e).empty=!0;var t=""+e._i,r,s,i,d,h,x=t.length,T=0,P,z;for(i=ns(e._f,e._locale).match(ur)||[],z=i.length,r=0;r<z;r++)d=i[r],s=(t.match(qn(d,e))||[])[0],s&&(h=t.substr(0,t.indexOf(s)),h.length>0&&y(e).unusedInput.push(h),t=t.slice(t.indexOf(s)+s.length),T+=s.length),Ue[d]?(s?y(e).empty=!1:y(e).unusedTokens.push(d),Xn(d,s,e)):e._strict&&!s&&y(e).unusedTokens.push(d);y(e).charsLeftOver=x-T,t.length>0&&y(e).unusedInput.push(t),e._a[R]<=12&&y(e).bigHour===!0&&e._a[R]>0&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[R]=da(e._locale,e._a[R],e._meridiem),P=y(e).era,P!==null&&(e._a[Q]=e._locale.erasConvertYear(P,e._a[Q])),kr(e),Fr(e)}function da(e,t,r){var s;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(s=e.isPM(r),s&&t<12&&(t+=12),!s&&t===12&&(t=0)),t)}function ca(e){var t,r,s,i,d,h,x=!1,T=e._f.length;if(T===0){y(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<T;i++)d=0,h=!1,t=G({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],Cr(t),V(t)&&(h=!0),d+=y(t).charsLeftOver,d+=y(t).unusedTokens.length*10,y(t).score=d,x?d<s&&(s=d,r=t):(s==null||d<s||h)&&(s=d,r=t,h&&(x=!0));C(e,r||t)}function ua(e){if(!e._d){var t=fr(e._i),r=t.day===void 0?t.date:t.day;e._a=k([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(s){return s&&parseInt(s,10)}),kr(e)}}function ha(e){var t=new X(Fr(Ts(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ts(e){var t=e._i,r=e._f;return e._locale=e._locale||we(e._l),t===null||r===void 0&&t===""?W({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),ee(t)?new X(Fr(t)):(v(t)?e._d=t:l(r)?ca(e):r?Cr(e):fa(e),V(e)||(e._d=null),e))}function fa(e){var t=e._i;p(t)?e._d=new Date(n.now()):v(t)?e._d=new Date(t.valueOf()):typeof t=="string"?aa(e):l(t)?(e._a=k(t.slice(0),function(r){return parseInt(r,10)}),kr(e)):c(t)?ua(e):g(t)?e._d=new Date(t):n.createFromInputFallback(e)}function Ss(e,t,r,s,i){var d={};return(t===!0||t===!1)&&(s=t,t=void 0),(r===!0||r===!1)&&(s=r,r=void 0),(c(e)&&f(e)||l(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=i,d._l=r,d._i=e,d._f=t,d._strict=s,ha(d)}function I(e,t,r,s){return Ss(e,t,r,s,!1)}var ma=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=I.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:W()}),pa=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=I.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:W()});function Ds(e,t){var r,s;if(t.length===1&&l(t[0])&&(t=t[0]),!t.length)return I();for(r=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](r))&&(r=t[s]);return r}function ga(){var e=[].slice.call(arguments,0);return Ds("isBefore",e)}function ya(){var e=[].slice.call(arguments,0);return Ds("isAfter",e)}var wa=function(){return Date.now?Date.now():+new Date},ht=["year","quarter","month","week","day","hour","minute","second","millisecond"];function va(e){var t,r=!1,s,i=ht.length;for(t in e)if(u(e,t)&&!(L.call(ht,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(s=0;s<i;++s)if(e[ht[s]]){if(r)return!1;parseFloat(e[ht[s]])!==S(e[ht[s]])&&(r=!0)}return!0}function _a(){return this._isValid}function Fa(){return oe(NaN)}function Et(e){var t=fr(e),r=t.year||0,s=t.quarter||0,i=t.month||0,d=t.week||t.isoWeek||0,h=t.day||0,x=t.hour||0,T=t.minute||0,P=t.second||0,z=t.millisecond||0;this._isValid=va(t),this._milliseconds=+z+P*1e3+T*6e4+x*1e3*60*60,this._days=+h+d*7,this._months=+i+s*3+r*12,this._data={},this._locale=we(),this._bubble()}function Pt(e){return e instanceof Et}function Tr(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function xa(e,t,r){var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),d=0,h;for(h=0;h<s;h++)(r&&e[h]!==t[h]||!r&&S(e[h])!==S(t[h]))&&d++;return d+i}function Ms(e,t){F(e,0,0,function(){var r=this.utcOffset(),s="+";return r<0&&(r=-r,s="-"),s+he(~~(r/60),2)+t+he(~~r%60,2)})}Ms("Z",":"),Ms("ZZ",""),w("Z",Tt),w("ZZ",Tt),E(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=Sr(Tt,e)});var ka=/([\+\-]|\d\d)/gi;function Sr(e,t){var r=(t||"").match(e),s,i,d;return r===null?null:(s=r[r.length-1]||[],i=(s+"").match(ka)||["-",0,0],d=+(i[1]*60)+S(i[2]),d===0?0:i[0]==="+"?d:-d)}function Dr(e,t){var r,s;return t._isUTC?(r=t.clone(),s=(ee(e)||v(e)?e.valueOf():I(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+s),n.updateOffset(r,!1),r):I(e).local()}function Mr(e){return-Math.round(e._d.getTimezoneOffset())}n.updateOffset=function(){};function Ca(e,t,r){var s=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Sr(Tt,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=Mr(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?Ps(this,oe(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Mr(this)}function Ta(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Sa(e){return this.utcOffset(0,e)}function Da(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Mr(this),"m")),this}function Ma(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Sr(Kn,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ba(e){return this.isValid()?(e=e?I(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Oa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ea(){if(!p(this._isDSTShifted))return this._isDSTShifted;var e={},t;return G(e,this),e=Ts(e),e._a?(t=e._isUTC?_(e._a):I(e._a),this._isDSTShifted=this.isValid()&&xa(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Pa(){return this.isValid()?!this._isUTC:!1}function Ya(){return this.isValid()?this._isUTC:!1}function bs(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ia=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Na=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function oe(e,t){var r=e,s=null,i,d,h;return Pt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:g(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(s=Ia.exec(e))?(i=s[1]==="-"?-1:1,r={y:0,d:S(s[fe])*i,h:S(s[R])*i,m:S(s[ae])*i,s:S(s[ge])*i,ms:S(Tr(s[Pe]*1e3))*i}):(s=Na.exec(e))?(i=s[1]==="-"?-1:1,r={y:Ye(s[2],i),M:Ye(s[3],i),w:Ye(s[4],i),d:Ye(s[5],i),h:Ye(s[6],i),m:Ye(s[7],i),s:Ye(s[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(h=Wa(I(r.from),I(r.to)),r={},r.ms=h.milliseconds,r.M=h.months),d=new Et(r),Pt(e)&&u(e,"_locale")&&(d._locale=e._locale),Pt(e)&&u(e,"_isValid")&&(d._isValid=e._isValid),d}oe.fn=Et.prototype,oe.invalid=Fa;function Ye(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Os(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Wa(e,t){var r;return e.isValid()&&t.isValid()?(t=Dr(t,e),e.isBefore(t)?r=Os(e,t):(r=Os(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function Es(e,t){return function(r,s){var i,d;return s!==null&&!isNaN(+s)&&(ss(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=r,r=s,s=d),i=oe(r,s),Ps(this,i,e),this}}function Ps(e,t,r,s){var i=t._milliseconds,d=Tr(t._days),h=Tr(t._months);e.isValid()&&(s=s??!0,h&&fs(e,_t(e,"Month")+h*r),d&&as(e,"Date",_t(e,"Date")+d*r),i&&e._d.setTime(e._d.valueOf()+i*r),s&&n.updateOffset(e,d||h))}var La=Es(1,"add"),Ra=Es(-1,"subtract");function Ys(e){return typeof e=="string"||e instanceof String}function Aa(e){return ee(e)||v(e)||Ys(e)||g(e)||Ua(e)||$a(e)||e===null||e===void 0}function $a(e){var t=c(e)&&!f(e),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,d,h=s.length;for(i=0;i<h;i+=1)d=s[i],r=r||u(e,d);return t&&r}function Ua(e){var t=l(e),r=!1;return t&&(r=e.filter(function(s){return!g(s)&&Ys(e)}).length===0),t&&r}function Ha(e){var t=c(e)&&!f(e),r=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,d;for(i=0;i<s.length;i+=1)d=s[i],r=r||u(e,d);return t&&r}function Va(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Ba(e,t){arguments.length===1&&(arguments[0]?Aa(arguments[0])?(e=arguments[0],t=void 0):Ha(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||I(),s=Dr(r,this).startOf("day"),i=n.calendarFormat(this,s)||"sameElse",d=t&&(ue(t[i])?t[i].call(this,r):t[i]);return this.format(d||this.localeData().calendar(i,this,I(r)))}function ja(){return new X(this)}function Qa(e,t){var r=ee(e)?e:I(e);return this.isValid()&&r.isValid()?(t=ne(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function Ga(e,t){var r=ee(e)?e:I(e);return this.isValid()&&r.isValid()?(t=ne(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function za(e,t,r,s){var i=ee(e)?e:I(e),d=ee(t)?t:I(t);return this.isValid()&&i.isValid()&&d.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(s[1]===")"?this.isBefore(d,r):!this.isAfter(d,r))):!1}function Ka(e,t){var r=ee(e)?e:I(e),s;return this.isValid()&&r.isValid()?(t=ne(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(s=r.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf())):!1}function Za(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function qa(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Ja(e,t,r){var s,i,d;if(!this.isValid())return NaN;if(s=Dr(e,this),!s.isValid())return NaN;switch(i=(s.utcOffset()-this.utcOffset())*6e4,t=ne(t),t){case"year":d=Yt(this,s)/12;break;case"month":d=Yt(this,s);break;case"quarter":d=Yt(this,s)/3;break;case"second":d=(this-s)/1e3;break;case"minute":d=(this-s)/6e4;break;case"hour":d=(this-s)/36e5;break;case"day":d=(this-s-i)/864e5;break;case"week":d=(this-s-i)/6048e5;break;default:d=this-s}return r?d:ie(d)}function Yt(e,t){if(e.date()<t.date())return-Yt(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),s=e.clone().add(r,"months"),i,d;return t-s<0?(i=e.clone().add(r-1,"months"),d=(t-s)/(s-i)):(i=e.clone().add(r+1,"months"),d=(t-s)/(i-s)),-(r+d)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Xa(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function eo(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?wt(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ue(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",wt(r,"Z")):wt(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function to(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,s,i,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",d=t+'[")]',this.format(r+s+i+d)}function ro(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=wt(this,e);return this.localeData().postformat(t)}function so(e,t){return this.isValid()&&(ee(e)&&e.isValid()||I(e).isValid())?oe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function no(e){return this.from(I(),e)}function io(e,t){return this.isValid()&&(ee(e)&&e.isValid()||I(e).isValid())?oe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ao(e){return this.to(I(),e)}function Is(e){var t;return e===void 0?this._locale._abbr:(t=we(e),t!=null&&(this._locale=t),this)}var Ns=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Ws(){return this._locale}var It=1e3,je=60*It,Nt=60*je,Ls=(365*400+97)*24*Nt;function Qe(e,t){return(e%t+t)%t}function Rs(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-Ls:new Date(e,t,r).valueOf()}function As(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-Ls:Date.UTC(e,t,r)}function oo(e){var t,r;if(e=ne(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?As:Rs,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Qe(t+(this._isUTC?0:this.utcOffset()*je),Nt);break;case"minute":t=this._d.valueOf(),t-=Qe(t,je);break;case"second":t=this._d.valueOf(),t-=Qe(t,It);break}return this._d.setTime(t),n.updateOffset(this,!0),this}function lo(e){var t,r;if(e=ne(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?As:Rs,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Nt-Qe(t+(this._isUTC?0:this.utcOffset()*je),Nt)-1;break;case"minute":t=this._d.valueOf(),t+=je-Qe(t,je)-1;break;case"second":t=this._d.valueOf(),t+=It-Qe(t,It)-1;break}return this._d.setTime(t),n.updateOffset(this,!0),this}function co(){return this._d.valueOf()-(this._offset||0)*6e4}function uo(){return Math.floor(this.valueOf()/1e3)}function ho(){return new Date(this.valueOf())}function fo(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function mo(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function po(){return this.isValid()?this.toISOString():null}function go(){return V(this)}function yo(){return C({},y(this))}function wo(){return y(this).overflow}function vo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}F("N",0,0,"eraAbbr"),F("NN",0,0,"eraAbbr"),F("NNN",0,0,"eraAbbr"),F("NNNN",0,0,"eraName"),F("NNNNN",0,0,"eraNarrow"),F("y",["y",1],"yo","eraYear"),F("y",["yy",2],0,"eraYear"),F("y",["yyy",3],0,"eraYear"),F("y",["yyyy",4],0,"eraYear"),w("N",br),w("NN",br),w("NNN",br),w("NNNN",Oo),w("NNNNN",Eo),E(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,s){var i=r._locale.erasParse(e,s,r._strict);i?y(r).era=i:y(r).invalidEra=e}),w("y",Ve),w("yy",Ve),w("yyy",Ve),w("yyyy",Ve),w("yo",Po),E(["y","yy","yyy","yyyy"],Q),E(["yo"],function(e,t,r,s){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Q]=r._locale.eraYearOrdinalParse(e,i):t[Q]=parseInt(e,10)});function _o(e,t){var r,s,i,d=this._eras||we("en")._eras;for(r=0,s=d.length;r<s;++r){switch(typeof d[r].since){case"string":i=n(d[r].since).startOf("day"),d[r].since=i.valueOf();break}switch(typeof d[r].until){case"undefined":d[r].until=1/0;break;case"string":i=n(d[r].until).startOf("day").valueOf(),d[r].until=i.valueOf();break}}return d}function Fo(e,t,r){var s,i,d=this.eras(),h,x,T;for(e=e.toUpperCase(),s=0,i=d.length;s<i;++s)if(h=d[s].name.toUpperCase(),x=d[s].abbr.toUpperCase(),T=d[s].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(x===e)return d[s];break;case"NNNN":if(h===e)return d[s];break;case"NNNNN":if(T===e)return d[s];break}else if([h,x,T].indexOf(e)>=0)return d[s]}function xo(e,t){var r=e.since<=e.until?1:-1;return t===void 0?n(e.since).year():n(e.since).year()+(t-e.offset)*r}function ko(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].name;return""}function Co(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].narrow;return""}function To(){var e,t,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return s[e].abbr;return""}function So(){var e,t,r,s,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,s=this.clone().startOf("day").valueOf(),i[e].since<=s&&s<=i[e].until||i[e].until<=s&&s<=i[e].since)return(this.year()-n(i[e].since).year())*r+i[e].offset;return this.year()}function Do(e){return u(this,"_erasNameRegex")||Or.call(this),e?this._erasNameRegex:this._erasRegex}function Mo(e){return u(this,"_erasAbbrRegex")||Or.call(this),e?this._erasAbbrRegex:this._erasRegex}function bo(e){return u(this,"_erasNarrowRegex")||Or.call(this),e?this._erasNarrowRegex:this._erasRegex}function br(e,t){return t.erasAbbrRegex(e)}function Oo(e,t){return t.erasNameRegex(e)}function Eo(e,t){return t.erasNarrowRegex(e)}function Po(e,t){return t._eraYearOrdinalRegex||Ve}function Or(){var e=[],t=[],r=[],s=[],i,d,h=this.eras();for(i=0,d=h.length;i<d;++i)t.push(re(h[i].name)),e.push(re(h[i].abbr)),r.push(re(h[i].narrow)),s.push(re(h[i].name)),s.push(re(h[i].abbr)),s.push(re(h[i].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}F(0,["gg",2],0,function(){return this.weekYear()%100}),F(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Wt(e,t){F(0,[e,e.length],0,t)}Wt("gggg","weekYear"),Wt("ggggg","weekYear"),Wt("GGGG","isoWeekYear"),Wt("GGGGG","isoWeekYear"),B("weekYear","gg"),B("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),w("G",Ct),w("g",Ct),w("GG",Y,te),w("gg",Y,te),w("GGGG",pr,mr),w("gggg",pr,mr),w("GGGGG",kt,Ft),w("ggggg",kt,Ft),at(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,s){t[s.substr(0,2)]=S(e)}),at(["gg","GG"],function(e,t,r,s){t[s]=n.parseTwoDigitYear(e)});function Yo(e){return $s.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Io(e){return $s.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function No(){return ye(this.year(),1,4)}function Wo(){return ye(this.isoWeekYear(),1,4)}function Lo(){var e=this.localeData()._week;return ye(this.year(),e.dow,e.doy)}function Ro(){var e=this.localeData()._week;return ye(this.weekYear(),e.dow,e.doy)}function $s(e,t,r,s,i){var d;return e==null?dt(this,s,i).year:(d=ye(e,s,i),t>d&&(t=d),Ao.call(this,e,t,r,s,i))}function Ao(e,t,r,s,i){var d=ys(e,t,r,s,i),h=lt(d.year,0,d.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}F("Q",0,"Qo","quarter"),B("quarter","Q"),j("quarter",7),w("Q",os),E("Q",function(e,t){t[pe]=(S(e)-1)*3});function $o(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}F("D",["DD",2],"Do","date"),B("date","D"),j("date",9),w("D",Y),w("DD",Y,te),w("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),E(["D","DD"],fe),E("Do",function(e,t){t[fe]=S(e.match(Y)[0])});var Us=He("Date",!0);F("DDD",["DDDD",3],"DDDo","dayOfYear"),B("dayOfYear","DDD"),j("dayOfYear",4),w("DDD",xt),w("DDDD",ls),E(["DDD","DDDD"],function(e,t,r){r._dayOfYear=S(e)});function Uo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}F("m",["mm",2],0,"minute"),B("minute","m"),j("minute",14),w("m",Y),w("mm",Y,te),E(["m","mm"],ae);var Ho=He("Minutes",!1);F("s",["ss",2],0,"second"),B("second","s"),j("second",15),w("s",Y),w("ss",Y,te),E(["s","ss"],ge);var Vo=He("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)}),F(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,function(){return this.millisecond()*10}),F(0,["SSSSS",5],0,function(){return this.millisecond()*100}),F(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),F(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),F(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),F(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),B("millisecond","ms"),j("millisecond",16),w("S",xt,os),w("SS",xt,te),w("SSS",xt,ls);var De,Hs;for(De="SSSS";De.length<=9;De+="S")w(De,Ve);function Bo(e,t){t[Pe]=S(("0."+e)*1e3)}for(De="S";De.length<=9;De+="S")E(De,Bo);Hs=He("Milliseconds",!1),F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");function jo(){return this._isUTC?"UTC":""}function Qo(){return this._isUTC?"Coordinated Universal Time":""}var m=X.prototype;m.add=La,m.calendar=Ba,m.clone=ja,m.diff=Ja,m.endOf=lo,m.format=ro,m.from=so,m.fromNow=no,m.to=io,m.toNow=ao,m.get=Gn,m.invalidAt=wo,m.isAfter=Qa,m.isBefore=Ga,m.isBetween=za,m.isSame=Ka,m.isSameOrAfter=Za,m.isSameOrBefore=qa,m.isValid=go,m.lang=Ns,m.locale=Is,m.localeData=Ws,m.max=pa,m.min=ma,m.parsingFlags=yo,m.set=zn,m.startOf=oo,m.subtract=Ra,m.toArray=fo,m.toObject=mo,m.toDate=ho,m.toISOString=eo,m.inspect=to,typeof Symbol<"u"&&Symbol.for!=null&&(m[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),m.toJSON=po,m.toString=Xa,m.unix=uo,m.valueOf=co,m.creationData=vo,m.eraName=ko,m.eraNarrow=Co,m.eraAbbr=To,m.eraYear=So,m.year=gs,m.isLeapYear=fi,m.weekYear=Yo,m.isoWeekYear=Io,m.quarter=m.quarters=$o,m.month=ms,m.daysInMonth=ci,m.week=m.weeks=vi,m.isoWeek=m.isoWeeks=_i,m.weeksInYear=Lo,m.weeksInWeekYear=Ro,m.isoWeeksInYear=No,m.isoWeeksInISOWeekYear=Wo,m.date=Us,m.day=m.days=Yi,m.weekday=Ii,m.isoWeekday=Ni,m.dayOfYear=Uo,m.hour=m.hours=Hi,m.minute=m.minutes=Ho,m.second=m.seconds=Vo,m.millisecond=m.milliseconds=Hs,m.utcOffset=Ca,m.utc=Sa,m.local=Da,m.parseZone=Ma,m.hasAlignedHourOffset=ba,m.isDST=Oa,m.isLocal=Pa,m.isUtcOffset=Ya,m.isUtc=bs,m.isUTC=bs,m.zoneAbbr=jo,m.zoneName=Qo,m.dates=A("dates accessor is deprecated. Use date instead.",Us),m.months=A("months accessor is deprecated. Use month instead",ms),m.years=A("years accessor is deprecated. Use year instead",gs),m.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ta),m.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ea);function Go(e){return I(e*1e3)}function zo(){return I.apply(null,arguments).parseZone()}function Vs(e){return e}var b=dr.prototype;b.calendar=Yn,b.longDateFormat=Ln,b.invalidDate=An,b.ordinal=Hn,b.preparse=Vs,b.postformat=Vs,b.relativeTime=Bn,b.pastFuture=jn,b.set=En,b.eras=_o,b.erasParse=Fo,b.erasConvertYear=xo,b.erasAbbrRegex=Mo,b.erasNameRegex=Do,b.erasNarrowRegex=bo,b.months=ai,b.monthsShort=oi,b.monthsParse=di,b.monthsRegex=hi,b.monthsShortRegex=ui,b.week=pi,b.firstDayOfYear=wi,b.firstDayOfWeek=yi,b.weekdays=Mi,b.weekdaysMin=Oi,b.weekdaysShort=bi,b.weekdaysParse=Pi,b.weekdaysRegex=Wi,b.weekdaysShortRegex=Li,b.weekdaysMinRegex=Ri,b.isPM=$i,b.meridiem=Vi;function Lt(e,t,r,s){var i=we(),d=_().set(s,t);return i[r](d,e)}function Bs(e,t,r){if(g(e)&&(t=e,e=void 0),e=e||"",t!=null)return Lt(e,t,r,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Lt(e,s,r,"month");return i}function Er(e,t,r,s){typeof e=="boolean"?(g(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,g(t)&&(r=t,t=void 0),t=t||"");var i=we(),d=e?i._week.dow:0,h,x=[];if(r!=null)return Lt(t,(r+d)%7,s,"day");for(h=0;h<7;h++)x[h]=Lt(t,(h+d)%7,s,"day");return x}function Ko(e,t){return Bs(e,t,"months")}function Zo(e,t){return Bs(e,t,"monthsShort")}function qo(e,t,r){return Er(e,t,r,"weekdays")}function Jo(e,t,r){return Er(e,t,r,"weekdaysShort")}function Xo(e,t,r){return Er(e,t,r,"weekdaysMin")}Se("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=S(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}}),n.lang=A("moment.lang is deprecated. Use moment.locale instead.",Se),n.langData=A("moment.langData is deprecated. Use moment.localeData instead.",we);var ve=Math.abs;function el(){var e=this._data;return this._milliseconds=ve(this._milliseconds),this._days=ve(this._days),this._months=ve(this._months),e.milliseconds=ve(e.milliseconds),e.seconds=ve(e.seconds),e.minutes=ve(e.minutes),e.hours=ve(e.hours),e.months=ve(e.months),e.years=ve(e.years),this}function js(e,t,r,s){var i=oe(t,r);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function tl(e,t){return js(this,e,t,1)}function rl(e,t){return js(this,e,t,-1)}function Qs(e){return e<0?Math.floor(e):Math.ceil(e)}function sl(){var e=this._milliseconds,t=this._days,r=this._months,s=this._data,i,d,h,x,T;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=Qs(Pr(r)+t)*864e5,t=0,r=0),s.milliseconds=e%1e3,i=ie(e/1e3),s.seconds=i%60,d=ie(i/60),s.minutes=d%60,h=ie(d/60),s.hours=h%24,t+=ie(h/24),T=ie(Gs(t)),r+=T,t-=Qs(Pr(T)),x=ie(r/12),r%=12,s.days=t,s.months=r,s.years=x,this}function Gs(e){return e*4800/146097}function Pr(e){return e*146097/4800}function nl(e){if(!this.isValid())return NaN;var t,r,s=this._milliseconds;if(e=ne(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+s/864e5,r=this._months+Gs(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Pr(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return t*24+s/36e5;case"minute":return t*1440+s/6e4;case"second":return t*86400+s/1e3;case"millisecond":return Math.floor(t*864e5)+s;default:throw new Error("Unknown unit "+e)}}function il(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+S(this._months/12)*31536e6:NaN}function _e(e){return function(){return this.as(e)}}var al=_e("ms"),ol=_e("s"),ll=_e("m"),dl=_e("h"),cl=_e("d"),ul=_e("w"),hl=_e("M"),fl=_e("Q"),ml=_e("y");function pl(){return oe(this)}function gl(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function Ie(e){return function(){return this.isValid()?this._data[e]:NaN}}var yl=Ie("milliseconds"),wl=Ie("seconds"),vl=Ie("minutes"),_l=Ie("hours"),Fl=Ie("days"),xl=Ie("months"),kl=Ie("years");function Cl(){return ie(this.days()/7)}var Fe=Math.round,Ge={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Tl(e,t,r,s,i){return i.relativeTime(t||1,!!r,e,s)}function Sl(e,t,r,s){var i=oe(e).abs(),d=Fe(i.as("s")),h=Fe(i.as("m")),x=Fe(i.as("h")),T=Fe(i.as("d")),P=Fe(i.as("M")),z=Fe(i.as("w")),xe=Fe(i.as("y")),Me=d<=r.ss&&["s",d]||d<r.s&&["ss",d]||h<=1&&["m"]||h<r.m&&["mm",h]||x<=1&&["h"]||x<r.h&&["hh",x]||T<=1&&["d"]||T<r.d&&["dd",T];return r.w!=null&&(Me=Me||z<=1&&["w"]||z<r.w&&["ww",z]),Me=Me||P<=1&&["M"]||P<r.M&&["MM",P]||xe<=1&&["y"]||["yy",xe],Me[2]=t,Me[3]=+e>0,Me[4]=s,Tl.apply(null,Me)}function Dl(e){return e===void 0?Fe:typeof e=="function"?(Fe=e,!0):!1}function Ml(e,t){return Ge[e]===void 0?!1:t===void 0?Ge[e]:(Ge[e]=t,e==="s"&&(Ge.ss=t-1),!0)}function bl(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,s=Ge,i,d;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(s=Object.assign({},Ge,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),i=this.localeData(),d=Sl(this,!r,s,i),r&&(d=i.pastFuture(+this,d)),i.postformat(d)}var Yr=Math.abs;function ze(e){return(e>0)-(e<0)||+e}function Rt(){if(!this.isValid())return this.localeData().invalidDate();var e=Yr(this._milliseconds)/1e3,t=Yr(this._days),r=Yr(this._months),s,i,d,h,x=this.asSeconds(),T,P,z,xe;return x?(s=ie(e/60),i=ie(s/60),e%=60,s%=60,d=ie(r/12),r%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",T=x<0?"-":"",P=ze(this._months)!==ze(x)?"-":"",z=ze(this._days)!==ze(x)?"-":"",xe=ze(this._milliseconds)!==ze(x)?"-":"",T+"P"+(d?P+d+"Y":"")+(r?P+r+"M":"")+(t?z+t+"D":"")+(i||s||e?"T":"")+(i?xe+i+"H":"")+(s?xe+s+"M":"")+(e?xe+h+"S":"")):"P0D"}var M=Et.prototype;M.isValid=_a,M.abs=el,M.add=tl,M.subtract=rl,M.as=nl,M.asMilliseconds=al,M.asSeconds=ol,M.asMinutes=ll,M.asHours=dl,M.asDays=cl,M.asWeeks=ul,M.asMonths=hl,M.asQuarters=fl,M.asYears=ml,M.valueOf=il,M._bubble=sl,M.clone=pl,M.get=gl,M.milliseconds=yl,M.seconds=wl,M.minutes=vl,M.hours=_l,M.days=Fl,M.weeks=Cl,M.months=xl,M.years=kl,M.humanize=bl,M.toISOString=Rt,M.toString=Rt,M.toJSON=Rt,M.locale=Is,M.localeData=Ws,M.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Rt),M.lang=Ns,F("X",0,0,"unix"),F("x",0,0,"valueOf"),w("x",Ct),w("X",Zn),E("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)}),E("x",function(e,t,r){r._d=new Date(S(e))});return n.version="2.29.4",o(I),n.fn=m,n.min=ga,n.max=ya,n.now=wa,n.utc=_,n.unix=Go,n.months=Ko,n.isDate=v,n.locale=Se,n.invalid=W,n.duration=oe,n.isMoment=ee,n.weekdays=qo,n.parseZone=zo,n.localeData=we,n.isDuration=Pt,n.monthsShort=Zo,n.weekdaysMin=Xo,n.defineLocale=_r,n.updateLocale=Gi,n.locales=zi,n.weekdaysShort=Jo,n.normalizeUnits=ne,n.relativeTimeRounding=Dl,n.relativeTimeThreshold=Ml,n.calendarFormat=Va,n.prototype=m,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var Bl={};Wl(Bl,{default:()=>or});module.exports=Ll(Bl);var On=require("obsidian");var ke=require("obsidian");var Wr=Ir($t()),se=require("obsidian"),Ut={state:{source:!1,mode:"source"}},be=/\[\[(.+?)([|#].*?)?\]\] ?/;async function Rl(a,n){await a.workspace.getLeaf().openFile(n,Ut),a.commands.executeCommandById("file-explorer:reveal-active-file")}function O(a,n){let{app:o,settings:l}=a,c=n===void 0?o.workspace.getActiveFile():typeof n=="string"?o.vault.getFileByPath(n):n;return!c||!(c instanceof se.TFile)||c.extension!=="md"?"Not Markdown":c.name==="Template.md"?"Template":c.path.includes(a.backupDirName)?"Backup":c.path.startsWith(l.coding.folder+"/")?"Code File":c.path.startsWith(l.extraction.folder+"/")?"Extraction File":"Data File"}async function Ht(a,n,o,l){let{app:c,settings:u}=a;l=l||[];let f=["","```"+n,...l,"```",""];c.vault.getFolderByPath(u.analysis.folder)||c.vault.createFolder(u.analysis.folder);let g=(0,se.normalizePath)(u.analysis.folder+`/${o}.md`),v=c.vault.getFileByPath(g)||await c.vault.create(g,f.join(`
`));await Rl(c,v),K(c)?.setCursor({line:0,ch:0})}function K(a){let n=a.workspace.activeEditor?.editor;return n||new se.Notice("No active editor."),n}function Oe(a){if(a.getLine(a.getCursor().line).trim()===""&&!a.somethingSelected())return new se.Notice(`Current line is empty. 

Move cursor to a paragraph and try again.`,4e3),!0;let o=a.getCursor("head").line!==a.getCursor("anchor").line,l=a.listSelections().length>1;return o||l?(new se.Notice(`Paragraph ambiguous since multiple lines are selected.

Unselect, move your cursor to the paragraph you want to affect, and use the command again.`,5e3),!0):!1}function Ze(a){let n=a.getSelection().includes("==");return n&&new se.Notice(`Selection contains highlights.
Overlapping highlights are not supported.`,4e3),n}var Al=/[|^#]/;function Vt(a){let n=a.workspace.getActiveFile();if(!n)return!1;let o=n.basename.match(Al)?.[0];if(!o)return!1;let l=`The current file contains an invalid character: ${o}

Rename the file and try again.`;return new se.Notice(l,0),!0}function Lr(){return(0,Wr.default)().format().slice(0,-5)}async function Bt(a,n,o,l){let c=a.app;l=(0,se.normalizePath)((l||n.parent?.path||"")+"/"+a.backupDirName),c.vault.getFolderByPath(l)||await c.vault.createFolder(l);let u=(0,Wr.default)().format("YY-MM-DD_HH-mm-ss");await c.vault.copy(n,`${l}/${n.basename} ${u}.md`),await c.vault.copy(o,`${l}/${o.basename} ${u}.md`)}function jt(a){let n=(0,se.getFrontMatterInfo)(a),o="merge-date: "+Lr(),l=a.slice(0,n.to);return l.includes(`
merge-date`)?l=l.replace(/^merge-date:.*$/m,o):l+=`
`+o,l+`
---

`+a.slice(n.contentStart)}function Qt(a){a.metadataTypeManager.setType("extraction-date","datetime"),a.metadataTypeManager.setType("merge-date","datetime"),a.metadataTypeManager.setType("extraction-source","multitext"),a.metadataTypeManager.setType("code description","text")}function Gt(a){a.workspace.activeEditor?.editor?.editorComponent?.view?.currentMode?.cleanupLivePreview()}var zt={"last used first":(a,n)=>n.stat.mtime-a.stat.mtime,"oldest used first":(a,n)=>a.stat.mtime-n.stat.mtime,"frequently used first":(a,n)=>n.stat.size-a.stat.size,"rarely used first":(a,n)=>a.stat.size-n.stat.size,random:()=>Math.random()-.5,alphabetical:(a,n)=>a.basename.localeCompare(n.basename)},Ks={",":"Comma (,)",";":"Semicolon (;)","	":"Tab"},Zs={"right-split":"to the right","down-split":"to the bottom",tab:"in new tab"},me={coding:{folder:"Codes",displayCount:!0,sortFunc:"last used first"},extraction:{folder:"Extractions",displayCount:!0,openingMode:"tab",csvSeparator:",",ignorePropertyOnMerge:[],displayProperty:[]},analysis:{folder:"Analysis"},suppressSuggestionInFields:[],propertiesKeysWidthPercent:35};function Rr(a,n){return n.path.slice(a.settings.coding.folder.length+1,-3)}function qs(a,n){return n?n.path===a.settings.coding.folder+"/Template.md":!1}function ft(a,n){let o=a.app.metadataCache.resolvedLinks[n.path]||{},l=0;for(let[c,u]of Object.entries(o))O(a,c)==="Data File"&&(l+=u);return l}function Kt(a,n,o){let l=a.app;return(o.match(new RegExp(be,"g"))||[]).reduce((f,p)=>{let[g,v]=p.match(be)||[];if(!v)return f;let k=l.metadataCache.getFirstLinkpathDest(v,n.path);return k&&O(a,k)==="Code File"&&f.push({tFile:k,wikilink:p}),f},[])}function Zt(a){let n=a.app.vault.getMarkdownFiles().filter(l=>O(a,l)==="Code File"),o=zt[a.settings.coding.sortFunc];return n.sort(o),n}function qe(a,n){let o=Rr(a,n);if(!a.settings.coding.displayCount)return o;let c=ft(a,n);return`${o} (${c}x)`}async function Js(a){let n=a.codeblockLabels.codeOverview;await Ht(a,n,"Code Overview")}function Xs(a,n){let{app:o,settings:l}=a,c=[...n.children];c.sort((f,p)=>f instanceof ke.TFolder&&p instanceof ke.TFile?-1:f instanceof ke.TFile&&p instanceof ke.TFolder?1:f.name.localeCompare(p.name));let u="";for(let f of c)if(f instanceof ke.TFolder){let p=f;if(!p.children.some(k=>k instanceof ke.TFile&&k.extension==="md"))continue;let v=Xs(a,p);u+=`<li>\u{1F4C1} ${p.name} ${v}</li>`}else if(f instanceof ke.TFile){let p=f,g=p.path===l.coding.folder+"/Template.md",v=p.extension!=="md";if(g||v)continue;let k=o.metadataCache.getFileCache(p)?.frontmatter?.["code description"],C=k?": "+k:"",_=`<a href="${p.path}" class="internal-link">${p.basename}</a>`,D=ft(a,p);u+=`<li>\u{1F4C4} ${_} (${D}x)${C}</li>`}return`<ul>${u}</ul>`}function en(a){let{app:n,settings:o}=a,l=n.vault.getFolderByPath(o.coding.folder);return l?Xs(a,l):`\u26A0\uFE0F Code folder "${o.coding.folder}" not found.`}var Hr=require("obsidian");var tn=Ir($t()),Ar=/\^[\w-]+$/,rn=/^!\[\[(.+?)#(\^[\w-]+)\]\]$/;function $l(a){let[n]=a.match(Ar)||[];if(n){let l=a.slice(0,-n.length).trim();return{blockId:n,lineWithoutId:l}}return{blockId:"^id-"+(0,tn.default)().format("YYMMDD-HHmmss"),lineWithoutId:a.trim()}}function Je(a){let n=a.getCursor(),o=a.getLine(n.line),l=a.getSelection();if(l){let f=l.replace(/^( ?)(.+?)( ?)$/g,"$1==$2==$3");a.replaceSelection(f),o=a.getLine(n.line)}let{blockId:c,lineWithoutId:u}=$l(o);return{blockId:c,lineWithoutId:u}}function Xe(a,n,o,l,c){let u=a.editorComponent.view.file;if(!u)return;let f=a.editorComponent.app;f.vault.setConfig("useMarkdownLinks",!1);let p=f.fileManager.generateMarkdownLink(n,u.path,"",o),g=`${l} ${p} ${c}`,v=a.getCursor();a.setLine(v.line,g),a.setCursor(v)}var qt=require("obsidian"),J=class extends qt.FuzzySuggestModal{hotkeyInstructions=[{command:"\u2191 \u2193",purpose:"Navigate"},{command:"\u21B9 ",purpose:"Down"},{command:"shift \u21B9 ",purpose:"Up"},{command:"\u23CE",purpose:"Select"},{command:"esc",purpose:"Dismiss"}];plugin;settings;constructor(n){super(n.app),this.plugin=n,this.settings=n.settings,this.modalEl.addClass(n.cssclass),this.setInstructions(this.hotkeyInstructions),this.scope.register([],"Tab",()=>{document.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))}),this.scope.register(["Shift"],"Tab",()=>{document.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowUp"}))})}},Ne=class extends qt.Modal{plugin;confirmationButton;constructor(n){super(n.app),this.plugin=n,this.modalEl.addClass(n.cssclass)}onClose(){this.contentEl.empty()}};var Z=require("obsidian");var Xt=require("obsidian"),We=class extends Xt.AbstractInputSuggest{textInputEl;plugin;foldersInVault;constructor(n,o){super(n.app,o),this.textInputEl=o,this.plugin=n,this.foldersInVault=n.app.vault.getAllLoadedFiles().filter(l=>l instanceof Xt.TFolder)}getSuggestions(n){return this.foldersInVault.filter(o=>o.path.includes(n))}renderSuggestion(n,o){o.createEl("span",{text:n.path})}selectSuggestion(n){this.textInputEl.value=n.path,this.textInputEl.trigger("input"),this.close()}};function sn(a,n){return n.path.slice(a.settings.coding.folder.length+1)+"/"}var Jt=class extends We{getSuggestions(n){if(!n.includes("/"))return[];let o=this.plugin.settings;return this.foldersInVault.filter(c=>{let u=c.path.includes(n),f=c.path.startsWith(o.coding.folder+"/"),p=!c.path.includes(this.plugin.backupDirName);return u&&f&&p})}renderSuggestion(n,o){let l=sn(this.plugin,n);o.createEl("span",{text:l})}selectSuggestion(n){this.textInputEl.value=sn(this.plugin,n),this.textInputEl.trigger("input"),this.close()}};var $r=class extends Ne{fullCode="";codeDesc="";onSubmit;constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass);let o=c=>c!==""&&!c.startsWith("/")&&!c.endsWith("/"),l=()=>{this.close(),this.onSubmit(this.fullCode,this.codeDesc)};n.createEl("h4",{text:"New code creation"}),n.createEl("small",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code File will be populated with its frontmatter.'}),n.createEl("br",{}),n.createEl("br",{}),new Z.Setting(n).setName("Name of the code").setDesc('Use a slash ("/") in the name to create the Code File in a subfolder (group). Example: "groupname/codename".').addText(c=>{new Jt(this.plugin,c.inputEl),c.onChange(u=>{this.fullCode=u.trim(),this.confirmationButton?.setDisabled(!o(this.fullCode))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.fullCode)&&(u.preventDefault(),l())})}),new Z.Setting(n).setName("Code description").setDesc('Will be added as metadata with the key "code description".').addText(c=>{c.onChange(u=>{this.codeDesc=u.trim()}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.fullCode)&&(u.preventDefault(),l())})}),new Z.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(l)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}},Ur=class extends Ne{input="";onSubmit;constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.addClass(this.plugin.cssclass),n.createEl("h4",{text:"Bulk-create new codes"}),n.createEl("p",{text:"Every line will result in a new code file."}),n.createEl("p",{text:'Use a slash ("/") in the name to create the Code File in a subfolder (group).'}),n.createEl("p",{text:'If there is a file "Template.md" at the root of the Codes Folder, the new Code Files will be populated with its frontmatter.'}),new Z.Setting(n).addTextArea(o=>{o.onChange(l=>{this.input=l.trim(),this.confirmationButton?.setDisabled(this.input==="")}).inputEl.setCssProps({width:"100%","min-height":"10rem"})}).infoEl.remove(),new Z.Setting(n).addButton(o=>{this.confirmationButton=o.setButtonText("Create").setCta().setDisabled(!0).onClick(()=>{this.close(),this.onSubmit(this.input)})}).addButton(o=>o.setButtonText("Cancel").onClick(()=>this.close()))}};async function nn(a,n,o){let{app:l,settings:c}=a;n=n.replace(/\.md$/,"").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\.|\/\./g,"").replace(/^\/+|\/+$/g,"");let u=(0,Z.normalizePath)(`${c.coding.folder}/${n}.md`);if(l.vault.getFileByPath(u))return new Z.Notice(`Code "${n}" already exists, Code File not created.`,0),!1;let p=n.split("/"),g=p.pop(),v=p.length>0?"/"+p.join("/"):"",k=c.coding.folder+v;l.vault.getFolderByPath(k)||await l.vault.createFolder(k);let _=`code description: "${o.replaceAll('"',"'")}"`,D=l.vault.getFileByPath(c.coding.folder+"/Template.md"),y=[];if(D){let W=/^code description: (.*)$/m,q=await l.vault.read(D),{exists:U,frontmatter:G}=(0,Z.getFrontMatterInfo)(q);U&&(G=G.match(W)?G.replace(W,_):_+`
`+G,y.push(...G.trim().split(`
`)))}else y.push(_);let $=["---",...y,"---","",""],V=await l.vault.create(`${k}/${g}.md`,$.join(`
`));return V?(new Z.Notice(`Created new code file: "${n}"`,3500),V):(new Z.Notice("Failed to create new code file.",0),!1)}function an(a,n){new $r(a,async(o,l)=>{let c=await nn(a,o,l);c&&n(c)}).open()}function on(a){new Ur(a,async n=>{let o=0,l=[];for(let u of n.split(`
`))await nn(a,u,"")?o++:l.push(u);let c=`${o} file(s) created`;l.length>0&&(c+=`
Could not create: `+l.join(", ")),new Z.Notice(c,l.length>0?0:3e3)}).open()}var Vr=class extends J{editor;codesInPara;dataFile;constructor(n,o,l,c){super(n),this.editor=o,this.codesInPara=l,this.dataFile=c,this.setPlaceholder("Select code to assign"),this.setInstructions([...this.hotkeyInstructions,{command:"shift \u23CE",purpose:"Create new code"}]),this.scope.register(["Shift"],"Enter",u=>{u.isComposing||(u.preventDefault(),this.close(),this.onChooseItem("new-code-file"))})}getItems(){return[...Zt(this.plugin).filter(l=>!this.codesInPara.find(c=>c.path===l.path)),"new-code-file"]}getItemText(n){return n==="new-code-file"?"\u2B51 Create new code":qe(this.plugin,n)}onChooseItem(n){n==="new-code-file"?an(this.plugin,o=>this.assignCode(o,this.dataFile)):this.assignCode(n,this.dataFile)}async assignCode(n,o){let l=this.editor,c=Rr(this.plugin,n),{blockId:u,lineWithoutId:f}=Je(l);Xe(l,n,c,f,u);let p=`![[${o.path.slice(0,-3)}#${u}]]
`;await this.app.vault.append(n,p)}};function ln(a){let{app:n}=a,o=K(n);if(!o||Oe(o))return;if(O(a)!=="Data File"){new Hr.Notice("You must be in a Data File to assign a code.",4e3);return}if(Ze(o)||Vt(n))return;let l=o.editorComponent.view.file;if(!l){new Hr.Notice("No file open.",4e3);return}let c=o.getLine(o.getCursor().line),u=Kt(a,l,c).map(f=>f.tFile);new Vr(a,o,u,l).open()}var Br=require("obsidian");async function dn(a){let n=a.app,o=K(n);if(!o)return;if(O(a)!=="Code File"){new Br.Notice("Must be in a Code File to delete the code everywhere.",4e3);return}let l=o.editorComponent.view.file;if(!l){new Br.Notice("No file open.",4e3);return}await n.vault.trash(l,!0)}var Ee=require("obsidian");function cn(a,n){let o=Object.keys(n).map(l=>Ul(a,l,n[l]));return o.length===1?o[0]:function(){o.forEach(l=>l())}}function Ul(a,n,o){let l=a[n],c=a.hasOwnProperty(n),u=c?l:function(){return Object.getPrototypeOf(a)[n].apply(this,arguments)},f=o(u);return l&&Object.setPrototypeOf(f,l),Object.setPrototypeOf(p,f),a[n]=p,g;function p(...v){return f===u&&a[n]===p&&g(),f.apply(this,v)}function g(){a[n]===p&&(c?a[n]=u:delete a[n]),f!==u&&(f=u,Object.setPrototypeOf(p,l||Function))}}var hn=require("obsidian");var et=require("obsidian");async function un(a,n){let o=a.app,l=[],c=0,u=O(a,n),f=o.metadataCache.getFileCache(n)?.embeds||[];for(let g of f){let[v,k]=g.link.split("#");if(!v||!k)continue;let C=o.metadataCache.getFirstLinkpathDest(v,n.path);if(!C||O(a,C)!=="Data File")continue;let D=await jr(o,n,C,k);D?l.push(D):c++}if(c===0&&l.length===0){let g=`\u26A0\uFE0F ${u} "${n.name}" has no references which could be deleted.`;new et.Notice(g,0);return}let p=`${u} "${n.name}" and ${c} references to it deleted.
`;if(l.length>0){let g=[p,`\u26A0\uFE0F ${l.length} references could not be deleted:`,"- "+l.join(`
- `)].join(`
`);new et.Notice(g,0)}else new et.Notice(p)}async function jr(a,n,o,l){let c=(await a.vault.read(o)).split(`
`),u=c.findIndex(v=>v.endsWith(l));if(u<0)return`Data File "${o.basename}", has no line with the ID "${l}".`;let f=c[u]||"",g=(f.match(new RegExp(be,"g"))||[]).find(v=>{v=v.trim().slice(2,-2);let k=a.metadataCache.getFirstLinkpathDest(v,o.path);return k instanceof et.TFile&&k.path===n.path});return g?(c[u]=f.replace(g,""),await a.vault.modify(o,c.join(`
`)),""):`Data File "${o.basename}", line "${l}" has no valid link to the "${n.name}".`}function tt(a){let n=a.app.vault;return cn(n,{trash:l=>async(c,u)=>{let f=O(a,c);if((f==="Code File"||f==="Extraction File")&&c instanceof hn.TFile){let g=`Intercepted deletion of "${c.name}", deleting all references to the ${f} before proceeding with deletion.`;console.info(g),await un(a,c)}await l.apply(n,[c,u])}})}var Qr=class extends J{toBeMergedFile;permaNotice;constructor(n,o){super(n),this.setPlaceholder(`Select Code File to merge "${o.basename}" into`),this.toBeMergedFile=o;let l=["MERGING INFO","- Lists properties are fully merged.",`- For conflicting, non-list properties, the values from "${o.basename}" are take priority.`,`- A backup of the original files will be saved in the subfolder "${n.backupDirName}."`].join(`
`);this.permaNotice=new Ee.Notice(l,0)}onClose(){this.permaNotice.hide()}getItems(){let n=Zt(this.plugin).filter(o=>o.path!==this.toBeMergedFile.path);return n.length===0&&(new Ee.Notice("No other codes have been created yet.",4e3),this.close()),n}getItemText(n){return qe(this.plugin,n)}async onChooseItem(n){let{plugin:o,app:l,settings:c}=this,u=`## Codes from "${this.toBeMergedFile.basename}"`,f=await l.vault.cachedRead(this.toBeMergedFile),{contentStart:p}=(0,Ee.getFrontMatterInfo)(f),g=f.slice(p).trim(),v=[u,g].join(`
`);Bt(o,this.toBeMergedFile,n,c.coding.folder),o.trashWatcherUninstaller&&o.trashWatcherUninstaller(),await l.fileManager.mergeFile(n,this.toBeMergedFile,v,!1),o.trashWatcherUninstaller=tt(o);let k=n,C=jt(await l.vault.read(k));await l.vault.modify(k,C),Gt(l),new Ee.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,4e3)}};function fn(a){let n=K(a.app);if(!n)return;if(O(a)!=="Code File"){new Ee.Notice("You must be in a Code File for this.",3500);return}let o=n.editorComponent.view.file;if(!o){new Ee.Notice("No file open.",4e3);return}new Qr(a,o).open()}var Gr=require("obsidian");function mn(a){O(a)!=="Code File"?new Gr.Notice("You must be in a Code File.",4e3):qs(a,a.app.workspace.getActiveFile())?new Gr.Notice("You cannot rename the template file.",5e3):a.app.commands.executeCommandById("workspace:edit-file-title")}var le=require("obsidian");var zr=class extends J{codesInParagraph;dataFile;editor;constructor(n,o,l,c){super(n),this.codesInParagraph=c,this.dataFile=l,this.editor=o,this.plugin=n,this.setPlaceholder("Select code to remove from paragraph")}getItems(){return this.codesInParagraph}getItemText(n){return qe(this.plugin,n.tFile)}onChooseItem(n){pn(this.editor,this.dataFile,n)}};async function pn(a,n,o){let l=a.editorComponent.app,c=a.getCursor().line,u=a.getLine(c),f=u.replace(o.wikilink,"");a.setLine(c,f);let[p]=u.match(Ar)||[];if(!p){new le.Notice(`No ID found in current line.
Reference in Code File thus not deleted.`,0);return}let g=(await l.vault.read(o.tFile)).split(`
`),v=g.findIndex(k=>{if(!k.includes(p))return!1;let C=k.match(new RegExp(be,"g"))||[];for(let _ of C){let[D,y]=_.match(be)||[];if(!y)continue;if(l.metadataCache.getFirstLinkpathDest(y,o.tFile.path)?.path===n.path)return!0}return!1});if(v<0){new le.Notice(`"Code File "${o.tFile.basename}" contains no reference to Data File "${n.basename}" with the ID "${p}". Reference in Code File is thus not deleted.`,0);return}g.splice(v,1),await l.vault.modify(o.tFile,g.join(`
`)),new le.Notice(`Assignment of code "${o.tFile.basename}" removed.`,3500)}async function Hl(a,n){let o=n.getLine(n.getCursor().line),[l,c,u]=o.match(rn)||[],f=n.editorComponent.view.file;if(!f){new le.Notice("No file open.",4e3);return}let p=a.metadataCache.getFirstLinkpathDest(c||"",f.path);if(!u||!c||!p){new le.Notice("Current line has no correct reference.",0);return}let g=await jr(a,f,p,u);if(g){new le.Notice(g+`

Aborting removal of Code.`,0);return}a.commands.executeCommandById("editor:delete-paragraph"),n.setCursor({line:n.getCursor().line,ch:0}),new le.Notice(`Assignment of code "${f.basename}" removed.`,3500)}function gn(a){let n=a.app,o=K(n);if(!o||Oe(o))return;if(O(a)==="Code File"&&Hl(n,o),O(a)!=="Data File"){new le.Notice("You must be in a Data File or Code File to unassign a code.",4e3);return}let l=o.editorComponent.view.file;if(!l){new le.Notice("No file open.",4e3);return}let c=o.getLine(o.getCursor().line),u=Kt(a,l,c);u.length===0?new le.Notice("Line does not contain any codes to remove.",3500):u.length===1?pn(o,l,u[0]):new zr(a,o,l,u).open()}var yn=[{id:"assign-code",name:"Assign code to paragraph",func:ln,hotkeyLetter:"a",icon:"plus-circle"},{id:"rename-code",name:"Rename code",func:mn,hotkeyLetter:"r",icon:"circle-slash"},{id:"unassign-code",name:"Remove code from paragraph",func:gn,hotkeyLetter:"d",icon:"minus-circle"},{id:"delete-code-everywhere",name:"Delete Code File and all references to it",func:dn,icon:"x-circle"},{id:"merge-codes",name:"Merge current Code File into another Code File",func:fn,icon:"circle-dot"},{id:"bulk-create-new-code-files",name:"Bulk create new Code Files",func:on,icon:"circle-dashed"},{id:"code-overview-codeblock",name:"Show code overview",func:Js,icon:"circle-equal"}];var st=require("obsidian");var Ce=require("obsidian");async function mt(a,n){let{app:o,settings:l}=a,c=l.extraction.openingMode,u=o.workspace.getLeaf();if(c==="tab"){let f=u.parent;await o.workspace.createLeafInParent(f,f.children.length).openFile(n,Ut)}else{let f=c==="right-split"?"right":"bottom",p=c==="right-split"?"vertical":"horizontal",g=o.workspace.getAdjacentLeafInDirection(u,f)||o.workspace.createLeafBySplit(u,p,!1);await g.openFile(n,Ut),g.parent.setDimension(2)}}function er(a,n){a.vault.setConfig("propertiesInDocument","visible"),setTimeout(()=>{let o=a.workspace.getActiveViewOfType(Ce.MarkdownView)?.metadataEditor.rendered[0];if(!o)return;o[n==="key"?"focusKey":"focusValue"]()},350)}var rt=class extends J{extractionTypes;callback;constructor(n,o){super(n),this.extractionTypes=pt(n),this.callback=o,this.setPlaceholder("Select extraction type")}getItems(){return this.extractionTypes.sort((n,o)=>{let l=de(this.plugin,n).length;return de(this.plugin,o).length-l})}getItemText(n){if(!this.plugin.settings.extraction.displayCount)return n.name;let l=de(this.plugin,n).length;return`${n.name} (${l}x)`}onChooseItem(n){this.callback(n)}};function tr(a,n){let{app:o,settings:l}=a,c=o.metadataCache.getFileCache(n)?.frontmatter,u=l.extraction.displayProperty;if(!c||u.length===0)return n.basename;let f=c?.["extraction-source"]?.length||0,p=f>1?`${f}x`:"",g=u.find(_=>{let D=c[_];return Array.isArray(D)?D.length>0:D||D===0});if(!g)return n.basename;let v=c[g];Array.isArray(v)&&(v=v.join(", "));let k=v?`${g}: ${v}`:"";return[n.basename,p,k].filter(Boolean).join("  \u2B29  ")}function rr(a,n){let o=a.vault.getFileByPath(`${n.path}/Template.md`);if(!o){new Ce.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${n.name}".`,0);return}let l=a.metadataCache.getFileCache(o)?.frontmatter;if(!l){new Ce.Notice(`ERROR: Properties of "Template.md" for Extraction Type "${n.name}" are invalid.`,0);return}return l}function pt(a){let{app:n,settings:o}=a,l=n.vault.getFolderByPath(o.extraction.folder);if(!l){new Ce.Notice("ERROR: Could not find Extraction Folder.",0);return}let c=l.children.filter(u=>u instanceof Ce.TFolder&&u.children.find(f=>f.name==="Template.md"));if(c.length===0){let u=["ERROR: Could not find any valid Extraction Types.",'Check that the extraction folder has subfolders, and that the subfolder has a "Template.md" file.','You can also create a new extraction type with the command "Create new extraction type" or by pressing the button with the dashed box in the left sidebar.'].join(`

`);new Ce.Notice(u,0);return}return c}function de(a,n){return n.children.filter(l=>O(a,l)==="Extraction File")}var Kr=class extends J{editor;constructor(n,o){super(n),this.setPlaceholder("Add paragraph to following Extraction File:"),this.editor=o}getItems(){let{app:n,settings:o,plugin:l}=this,c=o.extraction.folder,u=n.vault.getMarkdownFiles().filter(f=>f.path.startsWith(c+"/")&&O(l,f)==="Extraction File").sort((f,p)=>p.stat.mtime-f.stat.mtime);return u.length===0&&(new st.Notice("No extractions have been created yet.",3e3),this.close()),u}getItemText(n){return tr(this.plugin,n)}async onChooseItem(n){let{app:o,editor:l}=this,c=l.editorComponent.view.file;if(!c){new st.Notice("No file open.",4e3);return}let{blockId:u,lineWithoutId:f}=Je(l);if(l.getLine(l.getCursor().line).includes(`[[${n.basename}]]`)){new st.Notice(`The paragraph already references "${n.basename}". Aborting.`,0);return}let g=(await o.vault.read(n)).trim().split(`
`),v=`${c.path.slice(0,-3)}#${u}`,k=1+g.findIndex(_=>_.startsWith("extraction-source:"));if(k===0){let _=`Could not find "extraction-source:" property in the "${n.basename}". Aborting.`;new st.Notice(_,0);return}let C=k+g.slice(k).findIndex(_=>!_.startsWith("  - "));g.splice(C,0,`  - "[[${v}]]"`),g.push(`![[${v}]]`),g.push(""),await o.vault.modify(n,g.join(`
`)),Xe(l,n,n.basename,f,u)}};function wn(a){let n=K(a.app);if(!(!n||Oe(n)||Ze(n))){if(O(a)!=="Data File"){new st.Notice("You must be in a Data File to make an extraction.",4e3);return}new Kr(a,n).open()}}var Le=require("obsidian");var Zr=class extends Ne{onSubmit;nameOfNewType="";constructor(n,o){super(n),this.onSubmit=o}onOpen(){let{contentEl:n}=this;n.createEl("h4",{text:"New Extraction Type"}),n.addClass(this.plugin.cssclass);let o=c=>c!=="",l=()=>{this.close(),this.onSubmit(this.nameOfNewType)};new Le.Setting(n).setName("Name of the new type").addText(c=>{c.onChange(u=>{this.nameOfNewType=u.trim(),this.confirmationButton?.setDisabled(!o(u))}).inputEl.setCssProps({width:"100%","min-width":"20rem"}),c.inputEl.addEventListener("keydown",u=>{u.key==="Enter"&&o(this.nameOfNewType)&&(u.preventDefault(),l())})}),new Le.Setting(n).addButton(c=>{this.confirmationButton=c.setButtonText("Create").setCta().setDisabled(!0).onClick(l)}).addButton(c=>c.setButtonText("Cancel").onClick(()=>this.close()))}};function vn(a){let{app:n,settings:o}=a;new Zr(a,async l=>{l=l.replace(/\.md$/,"").replaceAll("/","_").replace(/[:#^?!"*<>|[\]\\]/g,"-").replace(/^\./,"");let c=(0,Le.normalizePath)(o.extraction.folder+"/"+l);await n.vault.createFolder(c),new Le.Notice(`Creating New Template for Extraction Type "${l}"`,6e3);let f=await n.vault.create(c+"/Template.md",`---
dimension: 
---

`);await mt(a,f),n.commands.executeCommandById("file-explorer:reveal-active-file"),er(n,"key")}).open()}var Fn=Ir($t()),Te=require("obsidian");var Vl="-";function _n(a,n){return a.map(l=>`"${l.replaceAll('"','""')}"`).join(n)}async function xn(a){let{app:n,settings:o}=a,l=o.extraction.csvSeparator,c=pt(a);if(!c)return;let u;for(let f of c){let p=[],g=rr(n,f);if(!g){let U=`Export of Extraction Type "${f.name}" is skipped, as the Templade.md has no valid properties.`;new Te.Notice(U,0);continue}let v=["File",...Object.keys(g),"extraction-date","extraction-source"],k=_n(v,l);p.push(k);let C=f.children.filter(U=>U instanceof Te.TFile&&U.name!=="Template.md");for(let U of C){let G=n.metadataCache.getFileCache(U)?.frontmatter;if(!G)continue;let X=[];for(let Ae of v){if(Ae==="File"){X.push(U.basename);continue}let A=G[Ae]??Vl,$e=typeof A!="object"?A.toString():Array.isArray(A)?A.join("; "):JSON.stringify(A);Ae==="extraction-source"&&($e=$e.replace(/\[\[|\]\]/g,"")),X.push($e)}let ee=_n(X,l);p.push(ee)}let _=(0,Te.normalizePath)(o.analysis.folder+"/CSV Export");n.vault.getFolderByPath(_)||await n.vault.createFolder(_);let y=p.join(`
`),$=(0,Fn.default)().format("YYYY-MM-DD_HH-mm-ss"),V=(0,Te.normalizePath)(`${_}/${f.name}_${$}.csv`),W=await n.vault.create(V,y),q=W?`Successfully exported "${f.name}".`:`ERROR: Export for "${f.name}" failed.`;new Te.Notice(q,W?5e3:0),!u&&W&&(u=W)}new Te.Notice("All CSV exports finished.",3500),u&&n.showInFolder(u.path)}var Re=require("obsidian");async function kn(a,n,o){let l=a.app;Qt(l);let c=o.name,u=o.path,f=n.editorComponent.view.file;if(!f){new Re.Notice("No file open.",4e3);return}let p=l.vault.getFileByPath(`${u}/Template.md`);if(!p){new Re.Notice(`ERROR: Could not find "Template.md" for Extraction Type "${c}".`,0);return}let g=await l.vault.cachedRead(p),{exists:v,frontmatter:k}=(0,Re.getFrontMatterInfo)(g);if(!v){new Re.Notice(`The file "Template.md" in the folder "${u}" does not contain valid metadata fields.

You need to add valid fields before you can make extractions.`,0),mt(a,p);return}let C,_=de(a,o).length;for(;;){_++;let U=_.toString().padStart(3,"0");if(C=`${u}/${c} ${U}.md`,!l.vault.getFileByPath(C))break}let{blockId:D,lineWithoutId:y}=Je(n),$=`${f.path.slice(0,-3)}#${D}`,V=["---",...k.split(`
`),"extraction-date: "+Lr(),"extraction-source:",`  - "[[${$}]]"`,"---","","**Paragraph extracted from:**",`![[${$}]]`].join(`
`),W=await l.vault.create(C,V),q=W.basename;Xe(n,W,q,y,D),await mt(a,W),er(l,"value")}function Cn(a){let{app:n}=a,o=K(n);if(!o||Oe(o))return;if(O(a)!=="Data File"){new Re.Notice("You must be in a Data File to make an extraction.",4e3);return}if(Ze(o)||Vt(n))return;let l=pt(a);l&&(l.length===1?kn(a,o,l[0]):new rt(a,c=>{kn(a,o,c)}).open())}var Tn=require("obsidian");function Sn(a){let n=a.codeblockLabels.extractionOverview;new rt(a,async o=>{let l="Extraction Overview \u2013 "+o.name,c=[`extraction-type: "${o.name}"`];await Ht(a,n,l,c)}).open()}function Dn(a,n){let o=a.app;o.internalPlugins.plugins["global-search"].enable();let l=(0,Tn.parseYaml)(n),c=l["extraction-type"],u=a.settings.extraction.folder+"/"+c,f=l.ignore||[],p=o.vault.getFolderByPath(u);if(!p)return`\u26A0\uFE0F Extraction Type "${c}" invalid.`;let g=rr(o,p);if(!g)return`\u26A0\uFE0F Invalid template or frontmatter for "${c}".`;let v=Object.keys(g),k=de(a,p);return v.map(_=>{let D=o.metadataTypeManager.getPropertyInfo(_)?.type||"",y=o.metadataCache.getFrontmatterPropertyValuesForKey(_);if(y.length===0)return`<b>${_}</b> <small>not used yet</small><br>`;if(D.startsWith("date")||f.includes(_))return`<b>${_}</b> <small>(type "${D}")</small><br>`;let $=y.reduce((V,W)=>{let q=0;for(let G of k){let X=o.metadataCache.getFileCache(G)?.frontmatter?.[_];(X===W||X?.includes(W))&&q++}if(q===0)return V;let U=`obsidian://search?query=["${_}":"${W}"] path:"${p.path}"`;return V.push(`<li><a href='${U}'>${W}</a> (${q}x)</li>`),V},[]);return`<b>${_}</b> <small><ul>${$.join("")}</ul></small>`}).join("")}var ce=require("obsidian");var qr=class extends J{toBeMergedFile;toBeMergedFrontmatter;permaNotice;constructor(n,o){super(n),this.setPlaceholder(`Select Extraction File to merge "${o.basename}" into.`),this.toBeMergedFile=o,this.toBeMergedFrontmatter=this.app.metadataCache.getFileCache(o)?.frontmatter||{};let l=["MERGING INFO",`A backup of the original files will be saved in the subfolder "${n.backupDirName}."`].join(`
`);this.permaNotice=new ce.Notice(l,0)}onClose(){this.permaNotice.hide()}getItems(){let n=this.toBeMergedFile.parent,o=de(this.plugin,n).filter(l=>l.path!==this.toBeMergedFile.path).sort((l,c)=>c.stat.mtime-l.stat.mtime);return o.length===0&&(new ce.Notice("No other extractions have been created yet.",4e3),this.close()),o}getItemText(n){return tr(this.plugin,n)}async onChooseItem(n){let{plugin:o,app:l,settings:c}=this,u={},f=l.metadataCache.getFileCache(n)?.frontmatter||{},p=[...c.extraction.ignorePropertyOnMerge,"extraction-date","merge-date"];for(let _ in this.toBeMergedFrontmatter){let D=f[_],y=this.toBeMergedFrontmatter[_],$=Array.isArray(D)&&Array.isArray(y),V=!D&&D!==0&&D!==!1||!y&&y!==0&&y!==!1,W=D===y,q=p.includes(_);$||V||W||q||(u[_]=D)}Bt(o,this.toBeMergedFile,n),o.trashWatcherUninstaller&&o.trashWatcherUninstaller(),await l.fileManager.mergeFile(n,this.toBeMergedFile,"",!1),o.trashWatcherUninstaller=tt(o);let g=n,v=(await l.vault.read(g)).replaceAll(`**Paragraph extracted from:**
`,"").replace(/\n{2,}/g,`
`);if(v=jt(v),Object.keys(u).length>0){let D=["","#### Properties that could be not be automatically merged",...(0,ce.stringifyYaml)(u).trim().split(`
`).map($=>"- "+$),"","---",""].join(`
`),y=(0,ce.getFrontMatterInfo)(v).contentStart;v=v.slice(0,y)+D+v.slice(y)}await l.vault.modify(g,v),Gt(l),new ce.Notice(`"${this.toBeMergedFile.basename}" merged into "${n.basename}".`,5e3);let C=l.metadataCache.getFileCache(g)?.frontmatter?.["extraction-source"];if(C.length<2||!Array.isArray(C)){let _=`Extraction sources have not been been merged correctly.
Please check original files.`;new ce.Notice(_,0)}}};function Mn(a){let n=K(a.app);if(!n)return;if(O(a)!=="Extraction File"){new ce.Notice("You must be in an Extraction File for this.",4e3);return}let o=n.editorComponent.view.file;if(!o){new ce.Notice("No file open.",4e3);return}new qr(a,o).open()}var bn=[{id:"extract-from-paragraph",name:"Extract from paragraph",func:Cn,hotkeyLetter:"e",icon:"plus-square"},{id:"extract-existing-extraction-file",name:"Add paragraph as source to existing Extraction File",func:wn,hotkeyLetter:"l",icon:"square-asterisk"},{id:"merge-extractions",name:"Merge current Extraction File into another Extraction File",func:Mn,icon:"square-dot"},{id:"create-new-extraction-type",name:"Create new Extraction Type",func:vn,icon:"box-select"},{id:"export-all-extractions-as-csv",name:"Export all extractions as .csv",func:xn,icon:"arrow-up-square"},{id:"extractiontypes-overview",name:"Show extraction type overview",func:Sn,icon:"square-equal"}];function gt(a){let n=a.settings.suppressSuggestionInFields.map(l=>`[data-property-key="${l}"]`).join(", "),o=n?`.app-container:has(.metadata-property:is(${n}) :is(.metadata-input-longtext, .multi-select-container):focus-within) ~ .suggestion-container{ display: none; }`:"";if(!a.styleElSuppressSuggestionsInFields){let l=activeDocument.createElement("style");l.addClass(a.cssclass),l.setAttribute("type","text/css"),activeDocument.head.appendChild(l),a.register(()=>l?.detach()),a.styleElSuppressSuggestionsInFields=l}a.styleElSuppressSuggestionsInFields.textContent=o,a.app.workspace.trigger("css-change")}function sr(a){let o=`body .metadata-property-key { min-width: ${a.settings.propertiesKeysWidthPercent}% }`;if(!a.styleElPropertyKeyWidth){let l=activeDocument.createElement("style");l.addClass(a.cssclass),l.setAttribute("type","text/css"),activeDocument.head.appendChild(l),a.register(()=>l?.detach()),a.styleElPropertyKeyWidth=l}a.styleElPropertyKeyWidth.textContent=o,a.app.workspace.trigger("css-change")}function Jr(a){return!!(a&&typeof a=="object"&&!Array.isArray(a))}function nr(a,...n){if(n.length===0)return a;let o=n.shift();if(Jr(a)&&Jr(o))for(let l in o)Jr(o[l])?(a[l]||Object.assign(a,{[l]:{}}),nr(a[l],o[l])):Object.assign(a,{[l]:o[l]});return nr(a,...n)}var H=require("obsidian");function Xr(a){return(0,H.normalizePath)(a).replace(/:/g,"-")}var es={"min-height":"5rem","min-width":"15rem"};function ts(a){return a.split(`
`).map(n=>n.trim()).filter(n=>n!=="")}var rs={"min-width":"15rem"},ir=class extends H.PluginSettingTab{plugin;constructor(n){super(n.app,n),this.plugin=n}display(){let{containerEl:n}=this,o=this.plugin.settings;n.empty(),n.addClass(this.plugin.cssclass),new H.Setting(n).setName("Properties without suggestions").setDesc("List of properties, one per line, for which suggestions should be surppressed. This is useful for dimensions which are intended for unique content that is not going to be repeated in other Code Files or Extraction Files.").addTextArea(l=>l.setPlaceholder("One property per line").setValue(o.suppressSuggestionInFields.join(`
`)).onChange(async c=>{o.suppressSuggestionInFields=ts(c),await this.plugin.saveSettings(),gt(this.plugin)}).inputEl.setCssProps(es)),new H.Setting(n).setName("Width of property keys").setDesc("Minimum width of keys in the list of properties, in percent.").addSlider(l=>l.setLimits(20,60,5).setDynamicTooltip().setValue(o.propertiesKeysWidthPercent).onChange(async c=>{o.propertiesKeysWidthPercent=c,await this.plugin.saveSettings(),sr(this.plugin)})),n.createEl("h3",{text:"Coding"}),new H.Setting(n).setName("Code folder").setDesc("Location where the Code Files are stored.").addSearch(l=>{new We(this.plugin,l.inputEl),l.setPlaceholder(me.coding.folder).setValue(o.coding.folder).onChange(async c=>{o.coding.folder=Xr(c)||me.coding.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(rs)}),new H.Setting(n).setName("Code count").setDesc("When selecting a code to assign, show a count of how often the code has already been assigned. (Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(l=>l.setValue(o.coding.displayCount).onChange(async c=>{o.coding.displayCount=c,await this.plugin.saveSettings()})),new H.Setting(n).setName("Sort order").setDesc("When selecting a code to assign, method by which the codes are ordered. (Note that this is a methodological decision, as it may influence your choice of codes.)").addDropdown(l=>{for(let c in zt)l.addOption(c,c);l.setValue(o.coding.sortFunc).onChange(async c=>{o.coding.sortFunc=c,await this.plugin.saveSettings()})}),n.createEl("h3",{text:"Extraction"}),new H.Setting(n).setName("Extraction folder").setDesc("Location where the Extraction Files are stored.").addSearch(l=>{new We(this.plugin,l.inputEl),l.setPlaceholder(me.extraction.folder).setValue(o.extraction.folder).onChange(async c=>{o.extraction.folder=Xr(c)||me.extraction.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(rs)}),new H.Setting(n).setName("Extraction count").setDesc("When selecting an extraction type, show a count of how often the type has been extracted.(Note that this is a methodological decision, as it may influence your choice of codes.)").addToggle(l=>l.setValue(o.extraction.displayCount).onChange(async c=>{o.extraction.displayCount=c,await this.plugin.saveSettings()})),new H.Setting(n).setName("Location of extraction window").setDesc("When creating a new extraction, a new split window opens. This setting determines where that window opens.").addDropdown(l=>{l.addOptions(Zs).setValue(o.extraction.openingMode).onChange(async c=>{o.extraction.openingMode=c,await this.plugin.saveSettings()})}),new H.Setting(n).setName("Ignore properties on merging").setDesc("List of properties, one per line, which should not trigger manual incongruence resolvement when merging Extraction Files. The properties are still added to the frontmatter, there merging just happens automatically without considering potential conflicts. This is intended for properties where it does not matter which value is chosen, such as IDs. ").addTextArea(l=>l.setPlaceholder("One property per line").setValue(o.extraction.ignorePropertyOnMerge.join(`
`)).onChange(async c=>{o.extraction.ignorePropertyOnMerge=ts(c),await this.plugin.saveSettings(),gt(this.plugin)}).inputEl.setCssProps(es)),new H.Setting(n).setName("Display property when merging").setDesc("Property which should be displayed when selecting an Extraction File, for instance when merging Extraction Files. If a list of properties is specified, the first one that exists in the Extraction File is used. ").addTextArea(l=>l.setPlaceholder("One property per line, the first existing property is used.").setValue(o.extraction.displayProperty.join(`
`)).onChange(async c=>{o.extraction.displayProperty=ts(c),await this.plugin.saveSettings()}).inputEl.setCssProps(es)),new H.Setting(n).setName("CSV separator").setDesc("Separator used when exporting extractions as .csv files.").addDropdown(l=>{l.addOptions(Ks).setValue(o.extraction.csvSeparator).onChange(async c=>{o.extraction.csvSeparator=c,await this.plugin.saveSettings()})}),n.createEl("h4",{text:"Analysis"}),new H.Setting(n).setName("Analysis folder").setDesc("Location where overviews and exports are placed.").addSearch(l=>{new We(this.plugin,l.inputEl),l.setPlaceholder(me.analysis.folder).setValue(o.analysis.folder).onChange(async c=>{o.analysis.folder=Xr(c)||me.analysis.folder,await this.plugin.saveSettings()}).inputEl.setCssProps(rs)})}};function ar(a){let{app:n,statusbar:o,settings:l}=a,c=[],u=O(a),f=n.workspace.getActiveFile();if(!f||!["Data File","Code File","Extraction File"].includes(u)){o.setText("");return}if(u==="Code File"){let C=ft(a,f);c.push(`Code ${C}x assigned`)}else if(u==="Extraction File"){let k=f.parent;if(k){let C=de(a,k).length;c.push(`${C}x extracted`)}}else if(u==="Data File"){let k=n.metadataCache.resolvedLinks[f.path]||{},C=0,_=0;for(let[D,y]of Object.entries(k))D.startsWith(l.coding.folder+"/")&&(C+=y),D.startsWith(l.extraction.folder+"/")&&_++;C>0&&c.push(`${C} Codes`),_>0&&c.push(`${_} Extractions`)}let p=n.metadataCache.unresolvedLinks[f.path]||{},g=0;for(let[k,C]of Object.entries(p))g+=C;g>0&&c.push(`${g} invalid links`);let v=c.map(k=>k.startsWith("1")?k.slice(0,-1):k).join(", ");o.setText(v)}var or=class extends On.Plugin{styleElSuppressSuggestionsInFields;styleElPropertyKeyWidth;cssclass=this.manifest.id;codeblockLabels={extractionOverview:"quadro-extractiontype-overview",codeOverview:"quadro-code-overview"};backupDirName="pre-merge-backups";statusbar=this.addStatusBarItem();trashWatcherUninstaller;settings=me;async onload(){console.info(this.manifest.name+" Plugin loaded.");for(let n of[...yn,...bn]){let o=this.addRibbonIcon(n.icon,`Quadro: ${n.name}`,()=>n.func(this));o.addClass(this.cssclass),o.setCssProps({border:"1px solid var(--text-faint)"});let l={id:n.id,name:n.name,icon:n.icon,editorCallback:async()=>n.func(this)};n.hotkeyLetter&&(l.hotkeys=[{modifiers:["Mod","Shift"],key:n.hotkeyLetter}]),this.addCommand(l)}this.statusbar.addClass(this.cssclass),ar(this),this.registerEvent(this.app.workspace.on("file-open",()=>ar(this))),this.registerEvent(this.app.metadataCache.on("resolved",()=>ar(this))),this.trashWatcherUninstaller=tt(this),await this.loadSettings(),this.addSettingTab(new ir(this)),gt(this),sr(this),Qt(this.app),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.codeOverview,(n,o)=>{o.innerHTML=en(this),o.addClass(this.cssclass)}),this.registerMarkdownCodeBlockProcessor(this.codeblockLabels.extractionOverview,(n,o)=>{o.innerHTML=Dn(this,n),o.addClass(this.cssclass)}),window.CodeMirror.defineMode(this.codeblockLabels.extractionOverview,n=>window.CodeMirror.getMode(n,"yaml")),this.registerMarkdownCodeBlockProcessor("quadro-extractiontypes-overview",(n,o)=>{o.innerHTML='INFO: This overview is outdated. Please delete this file and re-run "Show extraction type overview".'})}onunload(){this.trashWatcherUninstaller&&this.trashWatcherUninstaller(),window.CodeMirror.defineMode(this.codeblockLabels.extractionOverview,n=>window.CodeMirror.getMode(n,"")),console.info(this.manifest.name+" Plugin unloaded.")}async loadSettings(){this.settings=nr({},me,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
